(function(k){var m=window.AmazonUIPageJS||window.P,A=m._namespace||m.attributeErrors,O=A?A("AddressUIWidgetsServiceAssets",""):m;O.guardFatal?O.guardFatal(k)(O,window):O.execute(function(){k(O,window)})})(function(k,m,A){function O(a){var b=na(a,"APPX_KEYBOARD_ADDRESS_AUTOCOMPLETE_370486","C");return"T1"==b?a.capabilities.mobile||a.capabilities.tablet:"T2"==b?!a.capabilities.mobile&&!a.capabilities.tablet:"T3"==b?!0:!1}function Aa(a){return"T1"==na(a,"ADDRESS_SUGGESTION_SOUNDEX_TOPCITIES_374825",
"C")}function Ia(a){a=na(a,"ARX_DETECT_LOCATION_DESKTOP_416710","C");return"T1"==a||"T2"==a||"T3"==a}function na(a,b,c){a.state.parse();a=a.state("address-ui-widgets-from-view-state");try{var d="{}";a&&(d=a["js-experiments-map"]);var d=JSON.parse(d),e=d[b];return e&&"null"!=e?e:c}catch(g){return c}}function va(a){for(var b=document.getElementsByTagName("div"),c=document.getElementById(a),d=0;d<b.length;d++)if(b[d].id===a){var e=m.getComputedStyle(b[d]);if("none"!==e.display&&"hidden"!==e.visibility){c=
b[d];break}}return c}function C(a,b){var c=a,d=a(b).parent();if(0===d.length)return a;c.noConflict();a=function(a,b){return new c.fn.init(a,b||d)};a.fn=a.prototype=c.fn;c.extend(a,c);return a}function E(a,b){b=b.getElementsByTagName("script");for(var c,d=0;d<b.length;d++){var e=JSON.parse(b[d].innerHTML);if(e.hasOwnProperty("country-code")){c=e["country-code"];break}}a(c)}function ba(a,b){var c=(new Ja)();return(c?m.location.protocol+"//"+c:!a||"your-account-address-book"!==a&&"checkout"!==a?b?m.location.protocol+
"//"+b:"":m.location.origin)+"/a/addresses/ajax/widgets"}function Ka(a,b,c){var d;return function(){var e=this,g=arguments,h=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,g)},b);h&&a.apply(e,g)}}function La(){var a=document.cookie,b=!1;if(a){var c=a.indexOf("amzn-app-id\x3d");if(0<=c){var d=a.indexOf(";",c);(a=a.substring(c+12,d))&&(b=a.includes("AmazonBusiness"))}}return b}function Ba(a,b,c,d,e,g){var h=a();h?(e&&e.delayMetric&&m.ue&&m.ue.count&&m.ue.count(e.delayMetric,c),g(h)):
0<b?setTimeout(function(){Ba(a,--b,c*d,d,e,g)},c):g(h)}function Ca(a){for(var b=a("label[for^\x3daddress-ui-widgets]"),c=0;c<b.length;c++){var d=a(b[c]),e=d.attr("for"),e=a("#"+e),d=d.text();0!=e.length&&e.attr("aria-label",d)}}function wa(){var a=$.Deferred(),b=a.then;a.then=function(a,d){var e=wa();b(function(b){b=a(b);e.resolve(b)},function(a){var c;d&&(c=d(a));e.reject(c)});return e.promise()};return a}function Ma(a){for(var b,c="",d=0;d<a.length;d++)if(b=Da(c),60>b)b=a.charAt(d),c+=b;else if(60==
b)break;else if(60<b){c=c.slice(0,-1);break}return c}function Da(a){for(var b=0,c=0;c<a.length;c++)var d=a.charCodeAt(c),b=128>d?b+1:127<d&&2048>d?b+2:b+3;return b}function Na(){l.countryConfig.SA.normalizeConfig={"أ":"ا","إ":"ا","آ":"ا","ة":"ه","ؤ":"ء","ئ":"ء",i:"e",y:"e",u:"o",w:"o",I:"E",Y:"E",U:"O",W:"O"};l.countryConfig.SA.topAddresses={isTopAddressesEnabled:!0,topInAddressFields:{city:"Riyadh;Jeddah;Makkah Al Mukarramah;Al Madinah Al Munawwarah;Dammam;Al Khobar;الرياض;جدة;مكة المكرمة;المدينة المنورة;الدمام;الخبر".split(";")}};
l.countryConfig.SA.soundexConfig={isSoundexEnabled:!0,soundexGroups:[["C","K","Q"],["J","G"],["A","E"]],suffixSoundexGroups:[["ا","ى","ي"],["ة","ه"]]};l.countryConfig.SA.boostFactors={lcsAtStart:function(a){return 1.04*a},topAddress:function(a){return.9<=a?1.03*a:a},firstToken:function(a){return 1.02*a}};l.countryConfig.SA.disableAcronyms=!1;l.countryConfig.SA.tokenizeArabicDefiniteArticles=!0;l.countryConfig.EG.normalizeConfig={"أ":"ا","إ":"ا","آ":"ا","ة":"ه","ؤ":"ء","ئ":"ء",i:"e",y:"e",u:"o",w:"o",
I:"E",Y:"E",U:"O",W:"O"};l.countryConfig.EG.topAddresses={isTopAddressesEnabled:!0,topInAddressFields:{city:"Cairo;Giza;Alexandria;Zagazig;Mansoura;New Cairo City;القاهرة;الجيزة;الإسكندرية;الزقازيق;المنصورة;القاهرة الجديدة".split(";")}};l.countryConfig.EG.soundexConfig={isSoundexEnabled:!0,soundexGroups:[["C","K","Q"],["J","G"],["A","E"]],suffixSoundexGroups:[["ا","ى","ي"],["ة","ه"]]};l.countryConfig.EG.boostFactors={lcsAtStart:function(a){return 1.04*a},topAddress:function(a){return.9<=a?1.03*a:
a},firstToken:function(a){return 1.02*a}};l.countryConfig.EG.disableAcronyms=!1;l.countryConfig.EG.tokenizeArabicDefiniteArticles=!0}function Ea(a,b){b=b.isChecked()?"SAFE_PLACE":"IN_PERSON";a.val(b)}k.when("A","identity-address-ui-widgets-form-helper","address-form-helper","client-side-counters-util","ready").execute(function(a,b,c,d){function e(e,g){c.onPageTransitionStart(g);var h="/a/addresses/ajax/widgets/create";if(e["address-ui-widgets-original-address-id"]||e["original-address-address-ui-widgets-original-address-id"])h=
"/a/addresses/ajax/widgets/update";a.post(h,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",params:e,success:function(a){d.incrementCounter("CreateAddressPostResponseSuccess");c.onPageTransitionComplete(g);b.handlePostResponse(a,g)},error:function(){d.incrementCounter("CreateAddressPostResponseFailure");c.onPageTransitionComplete(g)}})}function g(a){a.$event.preventDefault();var c=a.$currentTarget.closest("form"),d=b.formatFormData(c.serializeArray());a=a.$currentTarget.find("input[type\x3dsubmit]")[0];
null!==a&&""!==a.name&&(d[a.name]=a.value);(a=h("input[name\x3d'purchaseId']"))&&(d.purchaseId=a.val());e(d,c)}var h=a.$;a.declarative("form-submit-button-click","click",function(a){g(a)});a.declarative("addrui-widgets-addr-suggestion-edit-button-action","click",function(a){g(a)});a.declarative("address-ui-widgets-suggestions-submit-action","click",function(a){g(a)})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-checkbox","a-alert","ready").execute(function(a,b,c,d){function e(){p=
d("#address-ui-widgets-addr-details-business-hours-opt-out-sat-alert");n=d("#address-ui-widgets-addr-details-business-hours-opt-out-sun-alert");t=d("#address-ui-widgets-addr-details-business-hours-opt-out-weekend-alert")}function g(a,c,b,d,e){a.isChecked()?b.isChecked()?(c.hide(),d.hide(),e.hide()):(c.hide(),e.hide(),d.show()):b.isChecked()?(d.hide(),e.hide(),c.show()):(c.hide(),d.hide(),e.show())}function h(){var a=c("#address-ui-widgets-addr-details-sat").isChecked(),b=c("#address-ui-widgets-addr-details-sun").isChecked(),
d="NONE";a&&(d="SAT");b&&(d="SUN");a&&b&&(d="BOTH");z("input[name\x3d'address-ui-widgets-addr-details-business-hours']").val(d)}function D(){var a=c("#address-ui-widgets-addr-details-sat").isChecked(),b=c("#address-ui-widgets-addr-details-sun").isChecked();return a&&b?"-both":a?"-sat":b?"-sun":"-none"}var r;k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(d=b.alertFunction,a.state.parse=b.stateParsingFunction,c=b.checkboxFunction,r=!0);a.state.parse();var z=a.$,q=!0,p,n,t;a.on("ajax_reload",function(){e()});
e();a.declarative("address-ui-widgets-addr-details-business-hrs-checkbox-change","change",function(a){h();"address-ui-widgets-addr-details-sat"===a.$target.attr("id")?g(c("#address-ui-widgets-addr-details-sat"),p,c("#address-ui-widgets-addr-details-sun"),n,t):g(c("#address-ui-widgets-addr-details-sun"),n,c("#address-ui-widgets-addr-details-sat"),p,t)});r?a.declarative("a-expander-toggle","click",function(c){c.$currentTarget.attr("id");!1===q?"OTH"===z("input[name\x3d'address-ui-widgets-addr-details-business-hours']").val()&&
h():(c=a.state("address-details-business-hours-expander-heading-strings"),z.isEmptyObject(c)||(c=c["business-hours-expander-heading-text"+D()],z("#address-ui-widgets-addr-details-business-hours-expander-heading-text").text(c)));q=!q}):(a.on("a:expander:address-ui-widgets-addr-details-business-hours-expander:toggle:collapse",function(){var c=a.state("address-details-business-hours-expander-heading-strings")["business-hours-expander-heading-text"+D()];z("#address-ui-widgets-addr-details-business-hours-expander-heading-text").text(c)}),
a.on("a:expander:address-ui-widgets-addr-details-business-hours-expander:toggle:expand",function(){"OTH"===z("input[name\x3d'address-ui-widgets-addr-details-business-hours']").val()&&h()}))});"use strict";k.when("A","customer-authentication-helper","address-form-helper","client-side-counters-util").register("identity-address-ui-widgets-form-helper",function(a,b,c,d){return{handlePostResponse:function(e,g){null!==e?b.checkAndHandleCustomerAuth(e.customerAuthenticationResponse)&&(e=e.createOrEditAddressResponse,
null!==e?null===e.addressId&&null!==e.html?(d.incrementCounter("EmptyAddressIdInCreateOrEditAddressResponse"),g.find("#address-ui-widgets-enterAddressFormContainer").replaceWith(e.html),a.trigger("ajax_reload")):null!==e.addressId&&(e={addressId:e.addressId},d.incrementCounter("CreateOrEditAddressSetDestination"),c.setDestination(e,g)):d.incrementCounter("EmptyCreateOrEditAddressResponse")):d.incrementCounter("EmptyCreateOrEditAjaxPostResponse")},formatFormData:function(a){var c={},b;for(b in a)c[a[b].name]=
a[b].value;return c}}});"use strict";k.when("A","client-side-counters-util").register("customer-authentication-helper",function(a,b){return{checkAndHandleCustomerAuth:function(a){if(null!==a&&null!==a.authRequired)return"true"==a.authRequired?(null!==a.redirectionUrl&&(m.location.href=a.redirectionUrl),!1):!0;b.incrementCounter("CustomerUnauthenticated");return!1}}});"use strict";k.register("client-side-counters-util",function(){return{incrementCounter:function(a){a="AddressUIWidgetsService_Checkout:"+
a;var b=m.ue;if(b&&"function"===typeof b.count){var c=(b.count(a)||0)+1;b.count(a,c)}}}});"use strict";k.when("A").register("ajax-request-builder",function(a){var b=a.$;return{buildAJAXRequest:function(a,d,e){a={operation:a,data:d,ajaxToken:e};d=b("input[name\x3d'address-ui-widgets-original-address-id']");d!==A&&null!==d&&(a.data["address-ui-widgets-original-address-id"]=d.val());return a}}});"use strict";k.when("A","address-ui-widgets-service-old-aui-missing-functions").register("page-state-helper",
function(a,b){return{getAjaxToken:function(){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(a.state.parse=b.stateParsingFunction);a.state.parse();return a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"]},getAjaxURLPrefix:function(){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(a.state.parse=b.stateParsingFunction);a.state.parse();var c=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"];return c?m.location.protocol+"//"+c:""}}});k.when("A").execute(function(a){function b(){if(!k.AUI_BUILD_DATE||
k.AUI_BUILD_DATE==A){var c=a.$;c("#address-ui-widgets-enterAddressFormContainer .a-dropdown-container").each(function(a,b){b=c(b);a=b.children("span");b=b.children("select").attr("id");b=c("label[for\x3d"+b+"]");a.attr("aria-label",b.text())})}}function c(){var b=va("address-ui-widgets-enterAddressFormContainer"),c=a.$(b).parent().parent();c.attr("id")&&-1!=c.attr("id").indexOf("popover")&&(Ca(C(a.$,b)),a.trigger("popover-interacted",b))}function d(a){var b=new MutationObserver(function(a){for(var c=
0;c<a.length;c++)"childList"===a[c].type&&e(b)}),c={attributes:!0,childList:!0,subtree:!0};1===a.getContent().length&&b.observe(a.getContent()[0],c)}a.on("ajax_reload",c);a.on("au-form-load",c);a.on("checkout:popoverContentLoaded:edit-address",d);a.on("checkout:popoverContentLoaded:add-address",d);b();a.on("ajax_reload",b);a.on("au-form-load",b);var e=Ka(function(b){b.disconnect();Ba(function(){var b=va("address-ui-widgets-enterAddressFormContainer");Ca(C(a.$,b));return b},5,100,1.5,{delayMetric:"AddressForm:LoadTrigger:AddressFormContainerVisibilityLatency"},
function(b){a.trigger("popover-interacted",b)})},0)});k.when("A","ready").execute(function(a){function b(){if(a.capabilities.isAmazonApp){var b=a.$,d=b('input[name \x3d"address-ui-widgets-original-address-id"]').length,b=b('input[name \x3d"original-address-address-ui-widgets-original-address-id"]').length,e="",g="";a.state("address-ui-widgets-from-view-state")&&a.state("address-ui-widgets-from-view-state")["country-code"]&&(e=a.state("address-ui-widgets-from-view-state")["country-code"]);a.state("address-ui-widgets-from-view-state")&&
a.state("address-ui-widgets-from-view-state")["marketplace-code"]&&(g=a.state("address-ui-widgets-from-view-state")["marketplace-code"]);(d||b)&&"MX"==e&&"MX"==g&&k.register("mash")}}a.on("ajax_reload",function(a){b()});a.on("address-form-load",function(a){b()})});k.when("A","ready").register("geographic-info-service",function(a){var b=function(b,d,e,g){a.$.ajax({url:b,type:"POST",data:JSON.stringify(d),dataType:"json",contentType:"application/json",success:function(a){e(a.locations)},error:function(a){a&&
a.http&&401===a.http.status?g(Object.assign({},{requiresAuth:!0},a)):g(a)}})};return{getAddressBySearchPostalCode:function(a,d,e){b("/geographic-info/get-locations-by-search/",{searchEntity:{postalCode:a},maxResults:1},d,e)},getAddressByReverseGeocode:function(a,d,e,g){b("/geographic-info/get-locations-by-reverse-geocode/",{locationPoint:{latitude:a,longitude:d},locationType:"ADDRESS_POINT_POSTAL_CODE",maxResults:5},e,g)}}});k.when("A","address-ui-widgets-service-old-aui-missing-functions","geographic-info-service",
"ready").execute(function(a,b,c){function d(d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(alert=b.alertFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&d&&"SG"==d&&(d=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"SG"==d&&(g=!1,h="",D=!1,c&&(r=q("#address-ui-widgets-enterAddressPostalCode"),z=q("#address-ui-widgets-enterAddressLine1"),r.bind("input",B),z.bind("blur",f)))}var e=/^\d{6}$/g,g,h,D,r,z,q=a.$;a.on("ajax_reload",
function(b){q=a.$;d(b)});a.on("popover-interacted",function(a){q=C(q,a);E(d,a)});a.on("address-form-load",function(b){q=a.$;d(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"SG"==a&&(p("HandlePrefilledPostalCodeSG"),q=b,B())});var p=function(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)},n=function(a){return function(b){return b&&b.requiresAuth?m.location.reload(!0):a(b)}},t=n(function(a){(a=a&&0<a.length&&a[0]&&a[0].addressLine&&a[0].addressLine.trim())?(z.val(a),g=!0,h=
a,D=!1,p("SGAutopopulationAddressFormByPostalCodeSuccess")):(g=!1,p("SGAutopopulationAddressFormByPostalCodeEmptyResult"))}),l=n(function(a){p("SGAutopopulationAddressFormByPostalCodeFailure")}),B=function(){var a=Date.now(),b=r.val()&&r.val().trim();if(b&&6===b.length&&b.match(e))try{c.getAddressBySearchPostalCode(b,function(b){var c=Date.now();m.ue&&m.ue.count&&m.ue.count("SGAutopopulationAddressFormByPostalCodeLatency",c-a);t(b)},function(a){l(a)})}catch(d){console.log(d),p("SGAutopopulationAddressFormByPostalCodeFailure")}},
f=function(){if(g&&h){var a=z.val()&&z.val().trim();D||h===a?D&&h===a&&(p("SGAutopopulationAddressFormByPostalCodeAddressLineOneReverted"),D=!1):(p("SGAutopopulationAddressFormByPostalCodeAddressLineOneEdited"),D=!0)}}});k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A?k.when("A","ready").register("address-ui-widgets-service-old-aui-missing-functions",function(a){}):(k.when("A","ready").execute(function(a){var b=a.$,c=b(document),d=Date.now(),e=0;c.delegate(".a-dropdown li","keydown",function(c){var h=b(this).parent();
c=c.which;!e&&1E3<Date.now()-d&&(e=1,d=Date.now());e&&(h.removeData("a-user-navigated-text").removeData("a-user-navigated-idx"),e=0);var D=h.data("a-user-navigated-idx")||0;if(!(0>D)){c=(h.data("a-user-navigated-text")||"")+String.fromCharCode(c).toLocaleLowerCase();h.data("a-user-navigated-text",c);for(var k=h.children();D<k.length;D++){var z=k.eq(D);if(0===a.trim(z.text().toLocaleLowerCase()).indexOf(c)){z.focus();h.data("a-user-navigated-idx",D);return}}h.data("a-user-navigated-idx",-1)}})}),k.when("A",
"ready").register("a-alert",function(a){}),k.when("A","ready").register("a-spinner",function(a){}),k.when("A","a-alert","a-dropdown","a-spinner","ready").register("address-ui-widgets-service-old-aui-missing-functions",function(a,b,c,d){return{stateParsingFunction:a.state.parse,alertFunction:function(a){var b=$(a);b.hide=function(){return b.toggleClass("aok-hidden",!0)};b.show=function(){return b.removeClass("aok-hidden",!1)};return b},spinnerFunction:function(a){var b=$(a);b.hide=function(){return b.toggleClass("aok-hidden",
!0)};b.show=function(){return b.removeClass("aok-hidden",!1)};return b},dropdownGetSelectFunction:function(b){var d;if(b instanceof a.$)if(1===b.length)d=b.attr("id");else return;else d=b;"#"==d[0]&&(d=d.substring(1));var h=document.getElementById(d);if(null!=h)return h.val=function(a){return a==A?h.options[h.selectedIndex].getAttribute("value"):c.setValue(d,a)},h.setValue=function(a){return c.setValue(d,a)},h.update=function(a){c.updateSelect(d,a)},h.addOption=function(a,b){a=new Option(a.text,a.value,
!1,!1);if(b==A)h.options.add(a);else{var c=Array.from(h.getOptions());h.removeOptions();c.splice(b,0,a);h.addOptions(c)}return h.options},h.addOptions=function(a){for(var b=0;b<a.length;b++){var c=new Option(a[b].text,a[b].value,!1,!1);h.options.add(c)}return h.options},h.getOptions=function(){var a=h.options;a.size=function(){return a.length};a.remove=function(){for(;h.firstChild;)h.removeChild(h.firstChild);return a=h.options};return a},h.getOption=function(a){var b=h.options[a];b.remove=function(){h.remove(a);
return b};return b},h.removeOptions=function(){for(;h.firstChild;)h.removeChild(h.firstChild);return h.options},h},checkboxFunction:function(a){var b=$(a);b.isChecked=function(){return b.prop("checked")};return b}}}),k.when("A","ready").execute(function(a){a.on("a:dropdown:selected:address-ui-widgets-enterAddressStateOrRegion",function(a){a.auiItemNode&&(document.getElementById("address-ui-widgets-enterAddressStateOrRegion").getElementsByClassName("a-dropdown-prompt")[0].textContent=a.auiItemNode.text);
for(var c=document.getElementById("address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"),d=0;d<c.options.length;d++)if(a.auiItemNode&&c.options[d].text==a.auiItemNode.text){c.options.selectedIndex=d;break}});a.on("a:dropdown:selected:address-ui-widgets-enterAddressCity",function(a){a.auiItemNode&&(document.getElementById("address-ui-widgets-enterAddressCity").getElementsByClassName("a-dropdown-prompt")[0].textContent=a.auiItemNode.outerText);for(var c=document.getElementById("address-ui-widgets-enterAddressCity-dropdown-nativeId"),
d=0;d<c.options.length;d++)if(a.auiItemNode&&c.options[d].value==a.auiItemNode.outerText){c.options.selectedIndex=d;break}})}),k.when("A","ready").execute(function(a){function b(){for(var a=document.getElementsByClassName("address-ui-widgets-checkbox-view"),b=0;b<a.length;b++)for(var e=a[b].querySelectorAll('input[type\x3d"checkbox"]'),g=0;g<e.length;g++)e[g].style.maxWidth="15px";a=document.getElementsByClassName("a-radio address-ui-widgets-radio-button-view");for(b=0;b<a.length;b++)for(e=a[b].querySelectorAll('input[type\x3d"radio"]'),
g=0;g<e.length;g++)e[g].style.maxWidth="15px",0<=e[g].name.indexOf("address-ui-widgets-suggested-address-selection")&&(e[g].style.top="25px");!(a=document.getElementsByClassName("address-ui-widgets-aad-heading-container")[0])||a.style.height&&"0px"!=a.style.height||(a.style.height="19px")}a.on("ajax_reload",function(a){b()});a.on("address-form-load",function(a){b()});a.on("au-form-load",function(a){b()});b()}));k.when("A","ready").execute(function(a){var b=a.$;a.declarative("addrui-widgets-addr-suggestion-select-action",
["change"],function(a){a=a.$currentTarget.closest(".addrui-widgets-addr-suggestion-entry");a.hasClass("addrui-widgets-addr-suggestion-active-box")||(b("div.addrui-widgets-addr-suggestion-entry.addrui-widgets-addr-suggestion-active-box").removeClass("addrui-widgets-addr-suggestion-active-box").addClass("addrui-widgets-addr-suggestion-inactive-box"),a.removeClass("addrui-widgets-addr-suggestion-inactive-box").addClass("addrui-widgets-addr-suggestion-active-box"))})});var Ja=function(){return function(){var a=
null,b=location.host.split(".")[0];if(!b.includes("development")&&!b.includes("pre-prod"))return null;if(b=document.cookie){var c=b.indexOf("devhostname\x3d");-1!=c&&(a=b.indexOf(";",c),-1==a&&(a=b.length),a=b.substring(c+12,a))}return a?a:null}};k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(a,b,c){function d(d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();
a.state("address-ui-widgets-from-view-state")&&d&&"IN"==d&&(z=6,q=c.getSelect(r("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")),p=r("#address-ui-widgets-enterAddressCity"),n=r("#address-ui-widgets-enterAddressLine1"),t=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"],l=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],B=a.state("address-ui-widgets-from-view-state").client,f=ba(B,l),r("#address-ui-widgets-enterAddressPostalCode").bind("input",
D))}function e(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)}function g(a){return function(b){!0===b.requiresAuth?m.location.reload(!0):a(b)}}function h(a){if(a)var b=a.data;if(b)if("false"===b.isAjaxError){a=b.stateOrRegion;var b=b.city,c=!1;a&&q&&(q.val(a),c=!0);b&&p&&(p.val(b),n.focus(),!0===c&&e("INAutopopulationSuccess"))}else e("INAutopopulationFailure");else e("INAutopopulationFailure")}function D(){var b=r("#address-ui-widgets-enterAddressPostalCode").val();b.length===z&&a.post(f,
{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify({operation:"IndiaAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":b},ajaxToken:t})},success:g(h),error:e("INAutopopulationFailure")})}var r=a.$,z,q,p,n,t,l,B,f;a.on("ajax_reload",function(b){r=a.$;d(b)});a.on("popover-interacted",function(a){r=C(r,a);E(d,a)});a.on("address-form-load",function(b){r=a.$;d(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"IN"==
a&&(e("HandlePrefilledPostalCodeIN"),r=b,D())})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","a-alert","ready").execute(function(a,b,c,d){function e(e){e&&"AU"==e&&(k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(u=!0,d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction),a.state.parse(),a.state("address-ui-widgets-from-view-state")&&(x=4,y=c.getSelect(f("#address-ui-widgets-enterAddressCity-dropdown-nativeId")),v=d("#address-ui-widgets-postalcode-error"),
M=f("#address-ui-widgets-enterAddressPostalCode").val(),N=f("#address-ui-widgets-countryCode-dropdown-nativeId").val(),P=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"],ia=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],ca=a.state("address-ui-widgets-from-view-state").client,L=ba(ca,ia),ja=f("#address-ui-widgets-enterAddressPostalCode"),J=c.getSelect(f("#address-ui-widgets-enterAddressCity-dropdown-nativeId"))||f("#address-ui-widgets-enterAddressCity"),
K=c.getSelect(f("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"))||f("#address-ui-widgets-enterAddressStateOrRegion"),Z=J.val()?J.val().toUpperCase():"",R=K.val()?K.val().toUpperCase():"",a.on("a:dropdown:selected:address-ui-widgets-enterAddressCity",function(a){n(a.value,g("au-addr-form-cityStateData"))}),f("#address-ui-widgets-enterAddressPostalCode").bind("input",h),y&&4>ja.val().length?(q(),p()):y&&D()))}function g(b){return a.state(b)?a.state(b):!1}function h(){v.hide();var b=
ja.val();if(y&&b.length<x)q(),p();else if(y&&b.length===x)if(b===M)D();else{var b={operation:"AustraliaAutopopulation",data:{"address-ui-widgets-enterAddressFullName":f("#address-ui-widgets-enterAddressFullName").val(),"address-ui-widgets-enterAddressPhoneNumber":f("#address-ui-widgets-enterAddressPhoneNumber").val(),"address-ui-widgets-enterAddressLine1":f("#address-ui-widgets-enterAddressLine1").val(),"address-ui-widgets-enterAddressLine2":f("#address-ui-widgets-enterAddressLine2").val(),"address-ui-widgets-enterAddressPostalCode":b,
"address-ui-widgets-enterAddressCity":J.val(),"address-ui-widgets-enterAddressStateOrRegion":K.val(),"address-ui-widgets-countryCode":N,"address-ui-widgets-addressFormButtonText":f("input[name\x3d'address-ui-widgets-addressFormButtonText']").val(),"address-ui-widgets-addressFormHideHeading":f("input[name\x3d'address-ui-widgets-addressFormHideHeading']").val(),"address-ui-widgets-enableAddressDetails":f("input[name\x3d'address-ui-widgets-enableAddressDetails']").val(),"address-ui-widgets-enableAddressTips":f("input[name\x3d'address-ui-widgets-enableAddressTips']").val(),
"address-ui-widgets-enableAddressWizardForm":f("input[name\x3d'address-ui-widgets-enableAddressWizardForm").val(),"address-ui-widgets-enableDeliveryInstructions":f("input[name\x3d'address-ui-widgets-enableDeliveryInstructions").val(),"address-ui-widgets-delivery-instructions-data":f("input[name\x3d'address-ui-widgets-delivery-instructions-data").val(),"address-ui-widgets-address-wizard-interaction-id":f("input[name\x3d'address-ui-widgets-address-wizard-interaction-id").val(),"address-ui-widgets-returnLegacyAddressID":f("input[name\x3d'address-ui-widgets-returnLegacyAddressID']").val(),
"address-ui-widgets-clientName":f("input[name\x3d'address-ui-widgets-clientName']").val(),"address-ui-widgets-addressFormHideSubmitButton":f("input[name\x3d'address-ui-widgets-addressFormHideSubmitButton']").val(),"address-ui-widgets-previous-address-form-state":f("input[name\x3d'address-ui-widgets-previous-address-form-state']").val(),"address-ui-widgets-previous-address-form-state-token":f("input[name\x3d'address-ui-widgets-previous-address-form-state-token").val()},ajaxToken:P},c=f("input[name\x3d'address-ui-widgets-original-address-id']");
!c||(b.data["address-ui-widgets-original-address-id"]=c.val());a.post(L,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify(b)},success:l(B),error:t("AUAutopopulationFailure")})}}function D(){c.getSelect(f("#address-ui-widgets-enterAddressCity-dropdown-nativeId")).update({status:"normal"});var a=g("au-addr-form-cityStateData"),b=Object.keys(a);Z&&-1<b.indexOf(Z)?(J.setValue(Z),n(Z,a)):0<J.val().length?z():(a=navigator.userAgent)&&(-1<
a.indexOf("MSIE")||-1<a.indexOf("rv:"))?u&&1===J.getOptions().length?r():(J.setValue(),p()):u&&1===J.getOptions().size()?r():u||0!==J.getOptions().size()?(J.setValue(),p()):r()}function r(){q();p();v.show()}function z(){c.getSelect(f("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")).update({status:"normal"})}function q(){c.getSelect(f("#address-ui-widgets-enterAddressCity-dropdown-nativeId")).update({status:"disabled"})}function p(){c.getSelect(f("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")).update({status:"disabled"})}
function n(a,b){z();K.removeOptions();b=b[a];var c=[];b.forEach(function(a){c.push({value:a[0],text:a[1]})});K.addOptions(c);if(Z===a){var d=[];b.forEach(function(a){d.push(a[0])});-1<d.indexOf(R)?K.setValue(R):K.setValue(b[0][0])}else K.setValue(b[0][0])}function t(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)}function l(a){return function(b){!0===b.requiresAuth?m.location.reload(!0):a(b)}}function B(e){e?(e=e.data,k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(u=!0,d=b.alertFunction,c.getSelect=
b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction),"false"===e.isAjaxError?(f("#address-ui-widgets-enterAddressFormContainer").replaceWith(e.addressFormHTML),a.trigger("awz_au_postalcode_reload"),c.getSelect(f("#address-ui-widgets-countryCode-dropdown-nativeId")).val(N),a.state.parse(),a.trigger("au-form-load","AU"),t("AUAutopopulationSuccess")):t("AUAutopopulationFailure")):t("AUAutopopulationFailure")}var f=a.$,u=!1,x,y,v,M,N,P,ia,ca,ja,J,K,Z,R,L;a.on("ajax_reload",function(b){f=
a.$;e(b)});a.on("popover-interacted",function(a){f=C(f,a);E(e,a)});a.on("address-form-load",function(b){f=a.$;e(b)});a.on("au-form-load",function(b){f=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"AU"==a&&(t("HandlePrefilledPostalCodeAU"),f=b,h())})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ready").execute(function(a,b,c,d){var e;function g(g){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c=b.alertFunction,a.state.parse=b.stateParsingFunction,
d.getSelect=b.dropdownGetSelectFunction,p=!0);a.state.parse();a.state("address-ui-widgets-from-view-state")&&g&&("SA"==g||"AE"==g||"EG"==g)&&("rtl"===q("html").attr("dir")&&q("#address-ui-widgets-enterAddressPhoneNumber").addClass("rtl-direction"),e={AE:{callingCode:"+971",numberMinLength:9,numberMaxLength:10},EG:{callingCode:"+20",numberMinLength:10,numberMaxLength:11},SA:{callingCode:"+966",numberMinLength:9,numberMaxLength:10}},n={AE:!0,EG:!0,SA:!0},t=q("#address-ui-widgets-enterAddressFormContainer"),
M="address-ui-widgets-addr-form-phone-number-inline-soft-alert",N="address-ui-widgets-addr-form-phone-number-inline-hard-alert",m=c("#"+M),l=c("#"+N),u=d.getSelect("address-ui-widgets-enterAddressISDPhoneNumber"),t&&u&&(f=t.find("input[name\x3d'address-ui-widgets-enterAddressPhoneNumber']"),x=u.val().split(" "),q("#country-flag").length||(q('\x3cspan id\x3d"country-flag"\x3e\x3ci\x3e\x3c/i\x3e\x3c/span\x3e').prependTo(".adddress-ui-widgets-form-ISD-with-phoneNumber-field-desktop-container .a-declarative"),
q('\x3cspan id\x3d"country-flag"\x3e\x3ci\x3e\x3c/i\x3e\x3c/span\x3e').prependTo(".adddress-ui-widgets-form-ISD-with-phoneNumber-field-mobile-container .a-declarative")),r(u.val()),p&&(y=new MutationObserver(h),v=q(".adddress-ui-widgets-form-isd-dropdown").find(".a-dropdown-prompt"),x&&"undefined"!==typeof x[1]&&v.text(x[1]),g={attributes:!0,childList:!0,subtree:!0},v&&y.observe(v[0],g),z(u)),f&&m&&l&&(f.change(D),a.on("a:dropdown:selected:address-ui-widgets-enterAddressISDPhoneNumber",D),""!==f.val()&&
f.change())))}function h(a){if(v&&x&&"undefined"!==typeof x[1])for(var b=0;b<a.length;b++)v.text()!==x[1]&&"childList"===a[b].type&&v.text(x[1])}function D(){p&&u.update({status:"normal"});var a=f.val(),b=u.val();r(b);if(n[x[0]]&&b&&a){a:if(b===x[0]+" "+e[x[0]].callingCode&&a.length<=e[x[0]].numberMaxLength&&a.length>=e[x[0]].numberMinLength)switch(x=b.split(" "),x[0]){case "EG":a=a.length===e[x[0]].numberMaxLength?("٠"===a[0]||"0"===a[0])&&("١"===a[1]||"1"===a[1]):a.length===e[x[0]].numberMinLength?
"١"===a[0]||"1"===a[0]:!1;break a;default:a=!0}else a=!1;a?m.hide():q("#"+N).is(":visible")||m.show()}else m.hide()}function r(a){x=a.split(" ");q("#country-flag").removeAttr("class");q("#country-flag").addClass("address-ui-widgets-flags-sprite address-ui-widgets-flags-"+x[0])}function z(a){Array.from(a.getOptions()).forEach(function(a){a="#"+a.id;var b={text:q(a).attr("data-a-html-content")};d.updateOption(a,b)})}var q=a.$,p=!1,n,t,m,l,f,u,x,y,v,M,N;a.on("ajax_reload",function(b){q=a.$;g(b)});a.on("popover-interacted",
function(a){q=C(q,a);E(g,a)});a.on("address-form-load",function(b){q=a.$;g(b)})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(a,b,c){function d(d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&d&&"JP"==d&&(d=a.state("address-ui-widgets-from-view-state").locale,d&&"ja_JP"!=d||(r=3,z=4,q=r+1+z,p=c.getSelect(D("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")),
n=D("#address-ui-widgets-enterAddressLine1"),t=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"],l=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],B=a.state("address-ui-widgets-from-view-state").client,f=ba(B,l),"true"!==D("input[name\x3d'address-ui-widgets-enableAddressWizardInlineSuggestions']").val()&&(D("#address-ui-widgets-enterAddressPostalCodeOne").bind("input",u),D("#address-ui-widgets-enterAddressPostalCodeTwo").bind("input",u))))}
function e(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)}function g(a){return function(b){!0===b.requiresAuth?m.location.reload(!0):a(b)}}function h(a){if(a){var b=a.data;b?"false"===b.isAjaxError?(a=b.stateOrRegion,b=b.addressLineOne,a&&p&&p.val(a),b&&n&&(n.val(b),n.trigger("input"),n.focus())):"true"===b.isAjaxError&&e("JPAutopopulationFailure"):e("JPAutopopulationFailure")}}var D=a.$,r,z,q,p,n,t,l,B,f;a.on("ajax_reload",function(b){D=a.$;d(b)});a.on("popover-interacted",function(a){D=
C(D,a);E(d,a)});a.on("address-form-load",function(b){D=a.$;d(b)});a.on("handle-pre-populated-postal-code",function(b,c){b&&"JP"==b&&(b=a.state("address-ui-widgets-from-view-state"))&&b.locale&&"ja_JP"==b.locale&&(e("HandlePrefilledPostalCodeJP"),D=c,u())});var u=function(){var b=D("#address-ui-widgets-enterAddressPostalCodeOne").val(),c=D("#address-ui-widgets-enterAddressPostalCodeTwo").val();D("#address-ui-widgets-enterAddressPostalCodeOne").is(":focus")&&b.length==r&&D("#address-ui-widgets-enterAddressPostalCodeTwo").focus();
b.length===r&&c.length===z&&(b=b+"-"+c,b.length===q&&a.post(f,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify({operation:"JapanAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":b},ajaxToken:t})},success:g(h),error:e("JPAutopopulationFailure")}))}});k.when("A","client-side-counters-util","ready").execute(function(a,b){function c(a){a.addClass("aok-hidden");a.prev("input").removeClass("address-ui-widgets-text-input-clear-icon-padding")}
var d=a.$,e=d("#address-ui-widgets-enterAddressFormContainer"),g=e.find("div.address-ui-widgets-clear-icon"),h=e.find(".addrui-form-text-input-container input"),k,r=new Set(["address-ui-widgets-enterAddressFullName","address-ui-widgets-enterAddressPhoneNumber"]);h.bind("keyup input paste focus",function(){var a=d(this),b=d(this).next();k&&k!==b&&c(k);k=b;a.val()?(a=b.prev("input"),a.hasClass("autoCompleteDisabled")||(b.removeClass("aok-hidden"),a.addClass("address-ui-widgets-text-input-clear-icon-padding"))):
c(b)});g.bind("click",function(){var a=d(this),e=a.prev("input");b.incrementCounter("AddressForm:ClearIconClicked:"+e.attr("id"));e&&(e.val(""),e.focus());c(a)});e.bind("focusin click",function(a){k&&!a.target.attributes.clearable&&c(k)});h&&h.each(function(){var b=d(this),c=b.attr("id"),e=d("#"+(c+"-clear-icon-container"));b.after(e);var g=na(a,"ARX_PREPOPULATE_NAME_AND_PHONE_MOBILE_420358","C");("T1"==g||"T2"==g)&&r.has(c)&&b.val()?(e.removeClass("aok-hidden"),b.addClass("address-ui-widgets-text-input-clear-icon-padding")):
(e.addClass("aok-hidden"),b.removeClass("address-ui-widgets-text-input-clear-icon-padding"));b.attr("clearable",!0)})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ready").execute(function(a,b,c,d){function e(e){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c=b.alertFunction,d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,v=!0);a.state.parse();a.state("address-ui-widgets-from-view-state")&&e&&"MX"==e&&(M="MexicoAutopopulation",K=
null,N=y("#address-ui-widgets-enterAddressFormContainer"),0!==N.length&&(P=N.find("#address-ui-widgets-enterAddressPostalCode"),0!==P.length&&(ia=N.find("#address-ui-widgets-enterAddressPostalCode-submit"),ca=c("#address-ui-widgets-postal-code-prepop-error"),ja=c("#address-ui-widgets-postal-code-prepop-ajax-error"),Z=["State","City","AddressLine2"],R={State:{fieldId:"address-ui-widgets-enterAddressStateOrRegion",defaultValue:g("address-ui-widgets-enterAddressStateOrRegion-defaultValue")},City:{fieldId:"address-ui-widgets-enterAddressCity",
defaultValue:g("address-ui-widgets-enterAddressCity-defaultValue")},AddressLine2:{fieldId:"address-ui-widgets-enterAddressLine2",defaultValue:g("address-ui-widgets-enterAddressLine2-defaultValue")}},"true"!==y("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val()&&(ia.click(function(a){a.preventDefault();x(!1)}),P.keyup(function(){y.trim(P.val())!=K&&(B(!1,!0),K=null)}),z(),x(!0)))))}function g(b){b=a.state(b);var c="";b&&(c=b.Value);return c}function h(a){a="AddressUIWidgets_"+
M+"_"+a;m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)}function D(a){var b=[];if(!a)return b;if(a.constructor===Object)for(var c in a)b.push(c);else a.constructor===Array&&(b=a);return b}function r(a,b,c){var e=b+c;b={};b.Container=a.find("#"+e+"Container");b.Display=a.find("#"+e);"String"===c?b.Value=a.find("#"+e+"Value"):"Select"===c?(a=e+"Native",b.ValueId=a,"#"===a.charAt(0)?(y(a),b.Value=d.getSelect(y(a))):b.Value=d.getSelect(y("#"+a))):"Text"===c&&(b.DisplayOuter=a.find("#"+e+"Outer"),
b.Value=b.Display);return b}function z(){J={};var b=Z.length-1;a.each(Z,function(a,c){var d=R[a].fieldId,e=N.find("#"+d),f={};f.Container=e.closest(".adddress-ui-widgets-form-field-container");f.LabelContainer=f.Container.prev(".adddress-ui-widgets-form-field-label-container");f.Type=e.find("#"+d+"FieldType");f.String=r(e,d,"String");f.Text=r(e,d,"Text");f.Select=r(e,d,"Select");b>c?f.OnChangeFieldName=Z[c+1]:b==c&&f.Text.DisplayOuter.addClass("a-spacing-small");f.DefaultValue=R[a].defaultValue;J[a]=
f})}function q(a){var b=a.parent(".a-input-text-wrapper");0===b.length&&(b=a);return b}function p(a){var b=q(P);a?(ca.show(),b.addClass("a-form-error")):(ca.hide(),b.removeClass("a-form-error"))}function n(b){a.each([b.String.Display,b.Text.DisplayOuter,b.Select.Display],function(a,b){q(a).removeClass("a-form-error")});b.Container.find(".address-ui-widgets-inline-error-alert").addClass("aok-offscreen")}function t(b,c,d){a.each(["String","Text","Select"],function(a,e){e=b[a];var f=d;c===a?e.Container.removeClass("aok-offscreen"):
(f=!1,e.Container.addClass("aok-offscreen"));"Select"===a?null!=e.Value&&(f?e.Value.update({status:"normal"}):e.Value.update({status:"disabled"})):f?(e.Value.prop("disabled",!1),e.Display.removeClass("a-form-disabled")):(e.Value.prop("disabled",!0),e.Display.addClass("a-form-disabled"))});d?(b.Container.removeClass("aok-offscreen"),b.LabelContainer.removeClass("aok-offscreen")):(b.Container.addClass("aok-offscreen"),b.LabelContainer.addClass("aok-offscreen"))}function l(b,c,d){var e=y.trim(b.DefaultValue),
f,g=D(c);if(1===g.length)f="String",e=g[0],b[f].Display.text(e),b[f].Value.val(e),n(b);else if(1<g.length){f="Select";g.sort();b[f].Value.getOptions().remove();a.each(g,function(a,c){b[f].Value.addOption({text:a,value:a},c)});!b[f].Value.setValue(e)&&v&&(g=b[f].Value.getOption(0),b[f].Value.setValue(g.value));var h=J[b.OnChangeFieldName],u=h?y.extend(!0,{},c):{};a.on("a:dropdown:"+b[f].ValueId+":select",function(a){a=y.trim(a.value);h&&l(h,u[a],!1);n(b)})}else f="Text",b[f].Value.val(""),n(b);b.Type.val(f);
t(b,f,"Text"!==f);if(h=J[b.OnChangeFieldName])c&&(c=c[e]),l(h,c,d)}function B(b,c){a.each(J,function(a,d){t(a,"Text",b);c&&a.Text.Value.val("");n(a)})}function f(){K=null;p(!1);B(!0,!1);ja.show()}function u(b,c){b=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"];var e=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],g=a.state("address-ui-widgets-from-view-state").client;L=ba(g,e);b={operation:M,data:{CountryCode:d.getSelect(y("#address-ui-widgets-countryCode-dropdown-nativeId")).val(),
PostalCode:y("#address-ui-widgets-enterAddressPostalCode").val()},ajaxToken:b};a.post(L,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify(b)},success:function(b){if(!0===b.requiresAuth)m.location.reload(!0);else{var d;if(d=!!b)d=b.data?void 0:!0,d=!d;d?(b=b.data,"false"===b.isAjaxError?(b=a.parseJSON(b.mxAddressData),p(y.isEmptyObject(b)),l(J[Z[0]],b,c),ja.hide()):(h("IsAjaxError"),f())):(h("ResultUndefined"),f())}},error:function(){h("AjaxFailure");
f()},timeout:5E3})}function x(a){var b=y.trim(P.val());b?b!=K&&u(b,a):(a||p(!0),B(!1,!0),ja.hide());K=b}var y=a.$,v=!1,M,N,P,ia,ca,ja,J,K,Z,R,L;a.on("ajax_reload",function(b){y=a.$;e(b)});a.on("popover-interacted",function(a){y=C(y,a);E(e,a)});a.on("address-form-load",function(b){y=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"MX"==a&&(h("HandlePrefilledPostalCodeMX"),y=b,x(!0))})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ready").execute(function(a,
b,c,d){function e(c){x="true"===u("input[name\x3d'address-ui-widgets-enableAddressWizardForm']").val()?!0:!1;k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&c&&"SE"==c&&(q=!1,p="",n=!1,t=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"],H=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],B=a.state("address-ui-widgets-from-view-state").client,
f=ba(B,H),r=u("#address-ui-widgets-enterAddressPostalCode"),l=u("#address-ui-widgets-enterAddressCity"),r.bind("input",M),l.bind("blur",N()),x||r.val().match(D)||g())}function g(){l.attr("readonly","readonly");l.addClass("autoCompleteDisabled");l.attr("tabindex","-1")}function h(a){a?(a=a.data,a&&"true"!==a.isAjaxError?(a=a.city)&&0!==a.length?(l.val(a),q=!0,p=a,n=!1,y("SEAutopopulationAddressBookByPostalCodeSuccess"),x||(l.removeAttr("readonly","readonly"),l.removeClass("autoCompleteDisabled"),l.removeAttr("tabindex",
"-1"))):(q=!1,y("SEAutopopulationAddressBookByPostalCodeEmptyResult")):y("SEAutopopulationAddressBookByPostalCodeFailure")):y("SEAutopopulationAddressBookByPostalCodeFailure")}var D=/^(\d{5}|\d{3} \d{2})$/g,r,l,q,p,n,t,H,B,f,u=a.$,x;a.on("ajax_reload",function(b){u=a.$;e(b)});a.on("popover-interacted",function(a){u=C(u,a);E(e,a)});a.on("address-form-load",function(b){u=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"SE"==a&&(y("HandlePrefilledPostalCodeSE"),u=b,M())});var y=function(a){m.ue&&
m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)},v=function(a){return function(b){return b&&b.requiresAuth?m.location.reload(!0):a(b)}},M=function(){var b=r.val()&&r.val().trim();b&&b.match(D)?(b={operation:"SwedenAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":b.replace(/\s+/g,"")},ajaxToken:t},a.post(f,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify(b)},success:v(h),error:y("SEAutopopulationAddressBookByPostalCodeFailure")})):
x||g()},N=function(){if(q&&p){var a=l.val()&&l.val().trim();n||p===a?n&&p===a&&(y("SEAutopopulationAddressBookByPostalCodeAddressCityReverted"),n=!1):(y("SEAutopopulationAddressBookByPostalCodeAddressCityEdited"),n=!0)}}});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(a,b,c){function d(d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&
d&&"PL"==d&&(t=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"],H=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],B=a.state("address-ui-widgets-from-view-state").client,f=ba(B,H),p=l("#address-ui-widgets-enterAddressPostalCode"),n=c.getSelect(l("#address-ui-widgets-enterAddressCity-dropdown-nativeId")),y="",u=!1,x="",p.bind("input",N),p.bind("textInput",P),p.val().match(r)?n.setValue(n.val()):e())}function e(){n.update({status:"disabled"})}
function g(a){a?(a=a.data,a&&"true"!==a.isAjaxError?(a=l.parseJSON(a.cities))&&0!==a.length?(h(a),n.update({status:"normal"}),v("PLAutopopulationAddressBookByPostalCodeSuccess")):v("PLAutopopulationAddressBookByPostalCodeEmptyResult"):v("PLAutopopulationAddressBookByPostalCodeFailure")):v("PLAutopopulationAddressBookByPostalCodeFailure")}function h(a){n.setValue("");a.sort(function(a,b){return a.localeCompare(b)});for(var b=n.getOptions().size()-1;0<b;b--)n.getOption(b).remove();a.forEach(function(a){n.addOption({text:a,
value:a})});1===a.length&&n.setValue(a[0])}var l=a.$,r=/^\d{2}\-\d{3}$/g,z=/^\d{2}\d{0,3}$/g,q=/^\d{2}\-$/g,p,n,t,H,B,f,u=!1,x="",y="";a.on("ajax_reload",function(b){l=a.$;d(b)});a.on("popover-interacted",function(a){l=C(l,a);E(d,a)});a.on("address-form-load",function(b){l=a.$;d(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"PL"==a&&(v("HandlePrefilledPostalCodePL"),l=b,N())});var v=function(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)},M=function(a){return function(b){return b&&
b.requiresAuth?m.location.reload(!0):a(b)}},N=function(){var b=p.val();if(b){var c=p[0].selectionStart,d=b.replace(/[^0-9-]/g,"").replace(/--/g,"-");5<d.length&&0>d.indexOf("-")&&(d=d.slice(0,-1));p.val(d);d!=b&&p[0].setSelectionRange(c-1,c-1)}if(c=p.val()){var b=p[0].selectionStart,d=c,h=!1,c=!1,u=d.lastIndexOf("-");-1!=u&&2!=u&&(y=d,d=d.replace(/-/g,""),c=!0);d.match(z)&&(y.match(q)&&y.length>d.length?d=d.slice(0,-1):(d=d.slice(0,2)+"-"+d.slice(2),h=!0));p.val(d);h&&(y.length==d.length&&p[0].setSelectionRange(3,
3),c&&(y.length>d.length?p[0].setSelectionRange(b-1,b-1):y.length==d.length&&3>b?p[0].setSelectionRange(b,b):y.length==d.length&&3==b&&p[0].setSelectionRange(b+1,b+1)))}(b=p.val())&&b.match(r)?a.post(f,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify({operation:"PolandAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":b},ajaxToken:t})},success:M(g),error:v("PLAutopopulationAddressBookByPostalCodeFailure")}):e();y=b},
P=function(a){if(32==a.originalEvent.data.charCodeAt(0))x=y,u=!0;else{var b=p.val().length<x.length,c=a.originalEvent.data.charCodeAt(0);a=a.originalEvent.data.charCodeAt(1);u&&b&&46==c&&32==a&&(y=x,p.val(x));u=!1;x=""}}});k.when("A","ready").execute(function(a){a.declarative("addrui-widgets-addr-suggestion-edit-button-action",["click"],function(){a.trigger("addrui-widgets-addr-suggestion-event-edit-button-clicked")})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown",
"a-alert","ready").execute(function(a,b,c,d){function e(){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();if(a.state("identity-address-ux-ajax-data")&&(!a.isListening||!a.isListening("a:dropdown:selected:address-ui-widgets-countryCode"))){a.off("a:dropdown:selected:address-ui-widgets-countryCode");var e=c.getSelect(n("#address-ui-widgets-countryCode-dropdown-nativeId"));r(e)||(a.on("a:dropdown:selected:address-ui-widgets-countryCode",
function(a){p(a.value)}),a.on("current-location-detection-country-switch",function(a,b,c){p(a,b,c)}))}}function g(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)}function h(a){d("#address-ui-widgets-addr-form-switch-alert-box").show();g("AddressFormReloadFailure");c.getSelect(n("#address-ui-widgets-countryCode-dropdown-nativeId")).val(a)}function l(b,c){var d="OTH";(b=a.state(b))&&(c=b[c])&&(d=c);return d}function r(a){if(!a)return!0}function z(){var b=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],
c=a.state("address-ui-widgets-from-view-state").client;return ba(c,b)}function q(b){var c=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"];return{operation:"AddressFormCountrySwitch",data:{"address-ui-widgets-countryCode":b,"address-ui-widgets-addressFormButtonText":n("input[name\x3d'address-ui-widgets-addressFormButtonText']").val(),"address-ui-widgets-addressFormHideHeading":n("input[name\x3d'address-ui-widgets-addressFormHideHeading']").val(),"previous-value-address-ui-widgets-countryCode":n("input[name\x3d'previous-value-address-ui-widgets-countryCode']").val(),
"address-ui-widgets-enableAddressDetails":n("input[name\x3d'address-ui-widgets-enableAddressDetails']").val(),"address-ui-widgets-enableDeliveryInstructions":n("input[name\x3d'address-ui-widgets-enableDeliveryInstructions").val(),"address-ui-widgets-enableEmailAddress":n("input[name\x3d'address-ui-widgets-enableEmailAddress']").val(),"address-ui-widgets-enableAddressTips":n("input[name\x3d'address-ui-widgets-enableAddressTips']").val(),"address-ui-widgets-enableAddressWizardForm":n("input[name\x3d'address-ui-widgets-enableAddressWizardForm").val(),
"address-ui-widgets-clientName":n("input[name\x3d'address-ui-widgets-clientName']").val(),"address-ui-widgets-address-wizard-interaction-id":n("input[name\x3d'address-ui-widgets-address-wizard-interaction-id").val(),"address-ui-widgets-returnLegacyAddressID":n("input[name\x3d'address-ui-widgets-returnLegacyAddressID']").val(),"address-ui-widgets-addressFormHideSubmitButton":n("input[name\x3d'address-ui-widgets-addressFormHideSubmitButton']").val(),"address-ui-widgets-previous-address-form-state":n("input[name\x3d'address-ui-widgets-previous-address-form-state']").val(),
"address-ui-widgets-previous-address-form-state-token":n("input[name\x3d'address-ui-widgets-previous-address-form-state-token").val()},ajaxToken:c}}function p(b,e,k){g("AddressFormCountryDropdownChange");var f=z(),u=c.getSelect(n("#address-ui-widgets-countryCode-dropdown-nativeId")).val(),x=q(b),y=n("input[name\x3d'address-ui-widgets-original-address-id']");r(y)||(x.data["address-ui-widgets-original-address-id"]=y.val());a.post(f,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",
withCredentials:!0,params:{data:JSON.stringify(x)},success:function(f){if(!0===f.requiresAuth)m.location.reload(!0);else if(r(f)||r(f.data))h(u);else{f=f.data;var g;g=n(f.addressFormHTML);g=g[0];var x=g.getElementsByClassName("adddress-ui-widgets-form-2-field-container");"MX"==b&&x&&0<x.length&&-1==x[0].firstElementChild.className.indexOf("mobile")&&(x[0].firstElementChild.style.width="100%",x[0].children[1].style.paddingTop="4px");g=g.outerHTML;"false"===f.isAjaxError?(n(va("address-ui-widgets-enterAddressFormContainer")).replaceWith(g),
d("#address-ui-widgets-addr-form-switch-alert-box").hide(),null!=c.getSelect(n("#address-ui-widgets-addr-details-address-type-dropdown-nativeId"))&&c.getSelect(n("#address-ui-widgets-addr-details-address-type-dropdown-nativeId")).val(l("addressTypeDropdownDefault","addressTypeDropdownDefaultValue")),null!=c.getSelect(n("#address-ui-widgets-addr-details-business-hours-dropdown-nativeId"))&&c.getSelect(n("#address-ui-widgets-addr-details-business-hours-dropdown-nativeId")).val(l("businessHoursDropdownDefault",
"businessHoursDropdownDefaultValue")),u=b,e&&k&&e(k,b),a.trigger("ajax_reload",b)):h(u)}},error:function(){h(u)}})}var n=a.$;a.on("ajax_reload",function(b){n=a.$;e(b)});a.on("popover-interacted",function(a){n=C(n,a);E(e,a)});a.on("address-form-load",function(b){n=a.$;e(b)});k.register("js-parsed",function(){var a={"form-loaded":"true"};return{get:function(b){return a[b]}}})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","ready").execute(function(a,b){function c(c){k.AUI_BUILD_DATE&&
k.AUI_BUILD_DATE!=A||(a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&c&&"CN"==c&&(c=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"CN"==c&&(d('input[name\x3d"address-ui-widgets-enterAddressLine1"]').attr("maxlength","60"),d('input[name\x3d"address-ui-widgets-enterAddressLine2"]').attr("maxlength","60"),d('input[name^\x3d"address-ui-widgets-enterAddressLine"]').change(function(a){a=d(this).val();60<Da(a)&&d(this).val(Ma(a))}))}
var d=a.$;a.on("ajax_reload",function(b){d=a.$;c(b)});a.on("popover-interacted",function(a){d=C(d,a);E(c,a)});a.on("address-form-load",function(b){d=a.$;c(b)})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","ready").execute(function(a,b){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(a.state.parse=b.stateParsingFunction);b=a.$;a.state.parse();var c=a.state("address-ui-widgets-store-map-text-id");b(".address-ui-widgets-map-link").click(function(a){a.preventDefault();m.open(this.href,
c.address_ui_widgets_store_address_map_header,"width\x3d600,height\x3d450")})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(a,b,c){function d(d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&d&&"CN"==d&&(d=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"CN"==d&&(r=a.state("cn-addr-form-chinaProvinceData"),
m=r.provinceCityMap,q=r.provinceCityDistrictMap,p=c.getSelect(l("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")),n=c.getSelect(l("#address-ui-widgets-enterAddressCity-dropdown-nativeId")),t=c.getSelect(l("#address-ui-widgets-enterAddressDistrictOrCounty-dropdown-nativeId")),H=p.val(),B=n.val(),f=t.val(),""===H?n.update({status:"disabled"}):e(),""===B?t.update({status:"disabled"}):g(),a.on("a:dropdown:selected:address-ui-widgets-enterAddressStateOrRegion",function(a){h&&(t.update({status:"disabled"}),
H=a.value,e(),g())}),a.on("a:dropdown:selected:address-ui-widgets-enterAddressCity",function(a){h&&(B=a.value,g())}))}function e(){n.removeOptions();var a=m[H];a&&(1===a.length?(B=a[0],n.addOption({text:B,value:B}),t.update({status:"normal"})):a.forEach(function(a,b,c){n.addOption({text:a,value:a})}),n.setValue(B),n.update({status:"normal"}))}function g(){t.removeOptions();var a=q[H];a&&(a=a[B])&&(a.forEach(function(a,b,c){t.addOption({text:a,value:a})}),t.setValue(f),t.update({status:"normal"}))}
function h(){return"CN"===c.getSelect(l("#address-ui-widgets-countryCode-dropdown-nativeId")).val()}var l=a.$,r,m,q,p,n,t,H,B,f;a.on("ajax_reload",function(b){l=a.$;d(b)});a.on("popover-interacted",function(a){l=C(l,a);E(d,a)});a.on("address-form-load",function(b){l=a.$;d(b)})});k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","ready").execute(function(a,b,c){function d(){var a=g.val(),b=e["address-ui-widgets-taxId"],c;b&&(c=b.formatRegex);c&&a&&(a.match(new RegExp(c))?
h.hide():h.show())}k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c=b.alertFunction,a.state.parse=b.stateParsingFunction);b=a.$;a.state.parse();var e=a.state("address-ui-widgets-form-client-side-validations");a=b("#address-ui-widgets-enterAddressFormContainer");var g;a&&(g=a.find("input[name\x3d'address-ui-widgets-taxId']"));var h=c("#address-ui-widgets-addr-form-tax-id-inline-alert");e&&g&&h&&g.change(d)});var oa=!1,Oa=function(){function a(a,b){if(b){b=l.replaceNoise(l.normalize(b,G));for(var c in Y)if(Y[c][a]!=
A&&l.replaceNoise(l.normalize(Y[c][a],G))===b)return c}return-1}function b(a){a.bind("keypress",function(a){if(13==a.keyCode)return!1})}function c(c){if("undefined"!==typeof oa&&!0===oa){var e=c.attr("autocomplete");"undefined"!==typeof e&&"off"!==e||c.attr("autocomplete",c.attr("id"))}else c.attr("autocomplete",c.attr("id"));b(c);c.blur(function(b){var c=$(this),d=v(c.attr("id"));if(0==$(".autoOp:hover").length&&(m.ue&&m.ue.count&&m.ue.count("AISS_Suggestion_Accepted_"+d+"_"),S("AISS_Suggestion_Accepted_"+
d+"_",0),S("AISS_Keystrokes_"+d+"_",ra),ra=0,Ga(d,"MANUAL",-1),$(this).siblings("ul").remove(),ka=!1,$(b.target).parent().css("z-index",1),T=-1,b=$(this).val(),l.isAutoSuggestionEnabled(G))){var e=a(d,b);if(-1!==e){if(c.val(Y[e][d]),Y[e][d]!=ma[d]&&(z(c,e),B(c)),U[d]!=A&&b)U[d](!1,d)}else{if(d&&U[d])U[d](!1,d);e=Q.shouldCheckPreviousAddressFieldValue?b!=ma[d]:!0;e&&n(c);if(U[d]!=A&&b)U[d](!0,d);ma[d]=b}}});c.parent().unbind("click").click(function(a){var b;if($(a.target).is("li")||$(a.target).is("b")||
$(a.target).is("i")){if(a=$(a.target).is("b")?$(a.target).parent():$(a.target).is("i")?$(a.target).parent().parent():$(a.target),b=a.parent().siblings("input"),a=a.index(),Fa(b.attr("id"),a),b.parent().find("ul").remove(),z(b,a),ka=!1,b.parent().css("z-index",1),b=v(c.attr("id")),U[b]!=A)U[b](!1,b)}else b=$(a.target),Q.canAcceptEmptyField?d(b,a):""===b.val()&&b.val("")});c.keyup(function(a){ra+=1;var b=$(a.target),c=b.parent().find("ul"),e=b.val(),f=a.keyCode;(13===f||38===f||40===f)&&0<b.parent().find("ul li").length?
b.navigate(c,f,a):(c.scrollTop(0),T=-1,0<e.length||0==e.length&&Q.canAcceptEmptyField?d(b,a):ka&&h(b,c))})}function d(a,b){C=[];M(a,N);da=C;var c=a.parent().find("ul");0<da.length?(!1===ka?(a.after('\x3cul class\x3d"autoCompleteResult autoCompleteScroll"\x3e\x3c/ul\x3e'),a.parent().find("ul").width(a.outerWidth()),ka=!0,$(b.target).parent().css("z-index",100)):(a.parent().find("ul").empty(),a.parent().find("ul").removeClass("autoCompleteScroll")),$.each(da,function(b,c){a.parent().find("ul").addClass("autoCompleteScroll");
a.parent().find("ul").append('\x3cli class\x3d"autoOp"\x3e'+c+"\x3c/li\x3e")}),0<da.length&&4>da.length?a.parent().find("ul").height(a.parent().find("ul li").eq(0).outerHeight()*da.length):a.parent().find("ul").height(4*a.parent().find("ul li").eq(0).outerHeight()),$(b.target).trigger("InlineSuggestionsShow")):ka&&h(a,c)}function e(){if("BR"===G){var a=I.zip;a.val()&&M(a,function(a){var b=!1;a&&"responseCode"in a?(a=a.responseCode,a!=l.RESPONSE.SUCCESS&&a!=l.RESPONSE.INVALID_POSTAL_CODE&&(b=!0)):
b=!0;if(b)for(index in b=Q.autoDisableMap.onPluginLoad,b)p(I[b[index]])})}xa&&Q.autoFillSuggestionsAndEnableMap&&(fa=0,g())}function g(){var b=Object.keys(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion),c=Object.values(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion);fa<b.length&&(I[c[fa]].hasClass("autoCompleteDisabled")||(fa++,g()),b=I[b[fa]],""!==b.val()?(b=P(b),l.getSuggestions(b,function(b){var c=Object.keys(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion),d=c[fa],e=I[d];if(e!=
A){var f=v(e.attr("id")),e=e.val();if(b.responseCode==l.RESPONSE.SUCCESS){if((b=b.addressSuggestions)||(b=[]),y(b),C=ia(b),-1!==a(f,e))for(d=Object.values(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion[d]),f=0;f<d.length;f++)p(I[d[f]]),fa++,c[fa]!==A&&g()}else b.responseCode==l.RESPONSE.TIMEOUT&&R(!0)}})):M(b))}function h(a,b){a.parent().find("ul").remove();b.remove();T=-1;ka=!1;a.parent().css("z-index",1)}function D(a,b){b.eq(0).addClass("autoCompleteSelected");a.scrollTop(0);return 0}function r(a,
b){T=b.length-1;b.eq(T).addClass("autoCompleteSelected");b=b.length*a.find("li").outerHeight();a.scrollTop(b);return T}function z(a,b){if(l.isAutoSuggestionEnabled(G)){var c=v(a.attr("id")),c=ma[c];if(b=Y[b]){for(var d in I)if(d in b){var e=I[d],f=b[d];""!=f?a.is("input")?u(e,d,f):(w(a),F(f,e),V(f,e)):e.is("input")?u(e,d,""):(w(e),ea(e))}d=a.val();c!=d&&B(a)}}}function q(a){a.attr("readonly","readonly");a.addClass("autoCompleteDisabled");a.attr("tabindex","-1");$("label[for\x3d'"+a.attr("id")+"']").addClass("autoCompleteTextLabelDisabled")}
function p(a){a.removeAttr("readonly");a.removeClass("autoCompleteDisabled");a.removeAttr("tabindex");$("label[for\x3d'"+a.attr("id")+"']").removeClass("autoCompleteTextLabelDisabled")}function n(a){f("autoDisableMap","onInvalidContent",a,function(a){q(a);var b=v(a.attr("id"));u(a,b,"");if(U[b]!=A)U[b](!1,b)});t(a)}function t(a){H(a,"onInvalidContent")}function H(a,b){f("autoClearMap",b,a,function(a){u(a,v(a.attr("id")),"")})}function B(a){f("autoClearMap","onAcceptSuggestion",a,function(a){u(a,v(a.attr("id")),
"")});f("autoDisableMap","onAcceptSuggestion",a,function(a){q(a)});f("autoFillSuggestionsAndEnableMap","onAcceptSuggestion",a,function(a){p(a);M(a,x)})}function f(a,b,c,d){c=v(c.attr("id"));if((a=Q[a])&&b in a&&(b=a[b][c],"undefined"!=typeof b))for(var e in b)d(I[b[e]])}function u(a,b,c){"true"!==$("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val()||"state"!==b||"SA"!==G&&"EG"!==G?a.val(c):V(c,a);ma[b]=c;a.trigger("input")}function x(){}function y(a){if(a){Y=[];for(var b=0;b<
a.length;b++)Y.push(a[b].suggestedPlace)}}function v(a){for(var b in W)if(W[b]===a)return b}function x(a){}function M(a,b){a=P(a);E.reject();E=wa();l.getSuggestions(a,function(a){E.resolve(a)});return E.promise().then(b,x)}function N(a){a.responseCode==l.RESPONSE.SUCCESS?((a=a.addressSuggestions)||(a=[]),y(a),C=ia(a)):a.responseCode==l.RESPONSE.TIMEOUT&&R(!0)}function P(a){var b=v(a.attr("id"));a={};var c={},d;for(d in W)c[d]=I[d].val();c.countryCode=G;a.addressObject=c;a.addressField=b;d="AE"===
G||"SA"===G||"EG"===G?500:10;a.numSuggestions=d;return a}function ia(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].displayData,e;e=d.matchedMap;for(var d=d.displayString,f=0;f<e.length;f++)for(var g=e[f][0],F=e[f][1],d=d.substring(0,g)+"\x3cb\x3e"+d.substring(g,F)+"\x3c/b\x3e"+d.substring(F,d.length),g=f+1;g<e.length;g++)e[g][0]+=7,e[g][1]+=7;(e=d)&&b.push(e)}return b}}function ca(a){a.attr("autocomplete","off");a.blur(function(){var b=a.val();b!=ma.zip&&(J(a),L(),M(a,K));ma.zip=b})}function ja(a,
b){a.attr("autocomplete","off");b.click(function(b){b.preventDefault();Z(!1);R(!1);J(a);L();M(a,K)})}function J(a){if("BR"===G){var b=a.val().replace("-","");a.val(b)}}function K(a){var b=I.zip;if(a.responseCode==l.RESPONSE.SUCCESS){L();(a=a.autofillObject)||(a={});H(b,"onAcceptSuggestion");var b=a,c;for(c in b){a=I[c];var d=b[c];if(""!=d)if(1<d.length)if(S("AISS_Autofill_"+c+"_",0),a.is("input"))u(a,v(a.attr("id")),"");else{w(a);for(var e=0;e<d.length;e++)F(d[e],a)}else S("AISS_Autofill_"+c+"_",
100),a.is("input")?u(a,v(a.attr("id")),d[0]):(w(a),F(d[0],a),V(d[0],a))}}else a.responseCode==l.RESPONSE.INVALID_POSTAL_CODE||a.responseCode==l.RESPONSE.EMPTY_POSTAL_CODE?(U.zip(!0,"zip"),t(b)):(U.ajax&&U.ajax(!0,"ajax"),t(b),R(!0));Q.bindPostalSubmitButton&&Z(!0)}function Z(a){var c=I.zip,d=I.zipSubmit,e=d.find("input");a?(p(c),c.unbind("keypress"),d.removeClass("a-button-disabled"),e.removeAttr("disabled")):(b(c),q(c),d.addClass("a-button-disabled"),e.attr("disabled","disabled"))}function R(a){var b=
Q.autoDisableMap.onPluginLoad;if("undefined"!=typeof b)for(var c in b){var d=I[b[c]];a?p(d):q(d)}}function L(){U.zip(!1,"zip");U.ajax&&U.ajax(!1,"ajax");I.zip.closest(".adddress-ui-widgets-form-2-field-container").find(".a-alert-inline-error").not(".aok-hidden").addClass("aok-hidden")}function Fa(a,b){a=v(a);S("AISS_Suggestion_Accepted_"+a+"_",100);S("AISS_Accepted_Keystrokes_"+a+"_",ra);S("AISS_Suggestion_Index_"+a+"_",b);ra=0;Ga(a,"ACCEPTED",b)}function Ga(a,b,c){var d={};d.addressField=a;d.userAction=
b;a={};for(var e in I)I.hasOwnProperty(e)&&(a[e]=I[e].val());d.currentAddressView=a;e="";for(var f in da)e=e+da[f]+";";d.currentSuggestions=e;d.index=c;m.ue&&m.ue.log&&m.ue.log(d,"ate-inlinesuggest")}function w(a){"non-aui"===sa?(a.find("option[value!\x3d]").remove(),a.val("")):k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(b,c,d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(d.getSelect=c.dropdownGetSelectFunction,b.state.parse=c.stateParsingFunction);
b.state.parse();try{var e=d.getSelect(a.attr("id"));e||(e=d.getSelect($("#"+a.attr("id")+"-dropdown-nativeId")));if(e){var f=e.getOptions().size();for(b=1;b<f;b++)e.getOption(1).remove();e.setValue("")}else aa()}catch(g){aa()}})}function V(a,b){"non-aui"===sa?b.val(a).change():k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(c,d,e){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(e.getSelect=d.dropdownGetSelectFunction,c.state.parse=d.stateParsingFunction);
c.state.parse();try{var f=e.getSelect(b.attr("id"));f||(f=e.getSelect($("#"+b.attr("id")+"-dropdown-nativeId")));f?f.setValue(a):aa()}catch(g){aa()}})}function F(a,b){"non-aui"===sa?b.append(new Option(a,a)):k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(c,d,e){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(e.getSelect=d.dropdownGetSelectFunction,c.state.parse=d.stateParsingFunction);c.state.parse();try{var f=e.getSelect(b.attr("id"));f||(f=e.getSelect($("#"+
b.attr("id")+"-dropdown-nativeId")));f?f.addOption({text:a,value:a},1):aa()}catch(g){aa()}})}function ea(a){if("non-aui"===sa)for(var b=0;b<la.length;b++)""!=la[b]&&a.append(new Option(la[b],la[b]));else k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(b,c,d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(d.getSelect=c.dropdownGetSelectFunction,b.state.parse=c.stateParsingFunction);b.state.parse();try{var e=d.getSelect(a.attr("id"));e||(e=d.getSelect($("#"+
a.attr("id")+"-dropdown-nativeId")));if(e)for(var f=la.length-1;0<f;f--)""!=la[f]&&e.addOption({text:la[f],value:la[f]},1);else aa()}catch(g){aa()}})}function aa(){S("AISS_State_Dropdown_Error",1)}function S(a,b){m.ue&&m.ue.count&&m.ue.count(a,b)}var W,X,G,C=[],E,Y=[],fa=0,xa,da=[],ka=!1,T=-1,ma={},la=[],sa,U=[],ra=0,O={IN:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{addressline1:["addressline1",
"addressline2"],addressline2:["addressline2"]},onPluginLoad:["addressline1","addressline2"]}},GB:{bindPlugin:!0,bindPostalPlugin:!0,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoClearMap:{onInvalidContent:{zip:["state","city"]}}},TR:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoClearMap:{onAcceptSuggestion:{city:["state",
"district","zip"],state:["district","zip"]}},autoDisableMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["state","district","zip"],state:["district","zip"],district:["zip"]},onPluginLoad:["state","district","zip"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["state"],state:["district"]},onPluginLoad:["city"]}},BR:{bindPlugin:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoClearMap:{onInvalidContent:{zip:"state city neighborhood streetName complement buildingNumber".split(" ")},
onAcceptSuggestion:{zip:"state city neighborhood streetName complement buildingNumber".split(" ")}},autoDisableMap:{onPluginLoad:["state","city"]}},AE:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoClearMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["city","district"],district:["district"]}},autoDisableMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["district"]},
onPluginLoad:["district"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["district"]},onPluginLoad:["city"]}},EG:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoClearMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["city","state","district"],district:["district"]}},autoDisableMap:{onAcceptSuggestion:{city:["state","district"]},onInvalidContent:{city:["state",
"district"]},onPluginLoad:["state","district"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["district"]},onPluginLoad:["city"]}},SA:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoClearMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["city","state","district"],district:["district"]}},autoDisableMap:{onAcceptSuggestion:{city:["state","district"]},onInvalidContent:{city:["state",
"district"]},onPluginLoad:["state","district"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["district"]},onPluginLoad:["city"]}},SE:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!1,autoFillSuggestionsAndEnableMap:{onPluginLoad:["city"]}}},Q,I={};return{public:function(a,d,g,F,w,h,k){function x(a,b){var c=$(X[b].id),d=X[b].cssclass;b=$("#"+W[b]);a?(c.show(),b.addClass(d)):(c.hide(),
b.removeClass(d))}function n(){for(var a=$("#address-ui-widgets-inline-district-error").parent().find(".a-alert-inline-error"),b=0;b<a.length;b++)if(-1==a[b].className.indexOf("aok-hidden"))return!0;return!1}function u(a){function b(d){if(d.responseCode==l.RESPONSE.SUCCESS&&(d=d.addressSuggestions)){y(d);a:{d=Y;for(var e=g,w=0;w<d.length;++w)if(l.replaceNoise(l.normalize(d[w][a],G))===e){d=w;break a}d=0}z(c,d);f("autoFillSuggestionsAndEnableMap","onAcceptSuggestion",c,p);d=Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion[a];
if("undefined"!=typeof d)for(e=0;e<d.length;e++)u(d[e])}}var c=I[a],d=c.val(),e=P(c);l.getSuggestions(e,function(e){if(e.responseCode==l.RESPONSE.SUCCESS){if(S("AISS_Succeed_Call",1),e=e.autofillObject){e=e[a];for(var f in e)if(e[f]!=A&&l.replaceNoise(l.normalize(e[f],G))===g){M(c,b);return}U[a]!=A&&d&&(Q.clearInvalidFormFieldsOnEdit&&t(c),U[a](!0,a))}}else S("AISS_Failed_Call",1)});var g=l.replaceNoise(l.normalize(d,G))}d&&(m.$=d,E=wa());xa="T1"==na(k,"TRUE_SPC_ENABLE_POST_LOAD_VALIDATION_398961",
"C");sa=F;W=a;X=g;a="zip city state district neighborhood ajax".split(" ");if("undefined"!=typeof h)for(var V in a)d=a[V],"undefined"!=typeof h[d]?U[d]=h[d]:X[d]&&(U[d]=x);else for(V in a)d=a[V],X[d]&&(U[d]=x);"undefined"!==typeof oa&&!1!==oa||$("#address-ui-address-form").attr("autocomplete","off");for(var v in W)h=$("#"+W[v]),I[v]=h,ma[v]=h.val();if("AE"!==w&&"SE"!==w){h=W.state;if("undefined"===typeof h||""==h)return;h=I.state;h.is("input")||h.find("option").each(function(){la.push($(this).val())})}if("AE"!==
w&&"SA"!==w&&"EG"!==w&&(h=W.zip,"undefined"===typeof h||""==h))return;G="undefined"===typeof w||""==w?I.countryCode.val():w;h="true"===$("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val();Q=O[G];"BR"===G&&(Q.bindPostalPlugin=h,Q.bindPostalSubmitButton=!h);!h||"SA"!==G&&"EG"!==G&&"AE"!==G||(Q.autoDisableMap=[]);if(!0===Q.bindPlugin)for(v in I)h=I[v],h.is("input")&&"zip"!=v&&c(h);!0===Q.bindPostalPlugin&&ca(I.zip);if(!0===Q.bindPostalSubmitButton){for(v in I)h=I[v],"zip"!=v&&
"ajax"!=v&&h.is("input")&&b(h);ja(I.zip,I.zipSubmit)}if(Q.autoDisableMap&&(v=Q.autoDisableMap.onPluginLoad,"SA"!=w&&"AE"!=w&&"EG"!=w||!n()||v.splice(v.indexOf("district")),"undefined"!=typeof v))for(var da in v)w=v[da],q(I[w]);if(Q.autoFillSuggestionsAndEnableMap&&(v=Q.autoFillSuggestionsAndEnableMap.onPluginLoad,"undefined"!=typeof v))for(da=0;da<v.length;da++)w=v[da],u(w);e();$.fn.navigate=function(a,b,c){var d=a.find("li");switch(b){case 40:-1<T?(d.eq(T).removeClass("autoCompleteSelected"),c=d.eq(T).next(),
0<c.length?(c.addClass("autoCompleteSelected"),c.position().top+c.outerHeight()>a.height()&&a.scrollTop(a.scrollTop()+c.outerHeight()),T++):T=D(a,d)):T=D(a,d);break;case 38:-1<T?(d.eq(T).removeClass("autoCompleteSelected"),c=d.eq(T).prev(),0<c.length?(c.addClass("autoCompleteSelected"),0>c.position().top&&a.scrollTop(a.scrollTop()-c.outerHeight()),T--):T=r(a,d)):T=r(a,d);break;case 13:1==ka&&(d=$(c.target).attr("id"),Fa(d,T),c.preventDefault(),z($(c.target),T),a.remove(),T=-1,ka=!1,$(c.target).parent().css("z-index",
1))}}}}},ha={ACTIVE_API_CALLS:{}},ga={},Ha={IN:!0,GB:!0,TR:!0,BR:!0,AE:!0,EG:!0,SA:!0,SE:!0},l={RESPONSE:{SUCCESS:"success",UNSUPPORTED_COUNTRY:"Unsupported Country",UNKNOWN_FIELD:"unknown addressField",NO_OPERATION:"no-operation",INCOMPLETE_CALL:"Lookup not called yet",INVALID_POSTAL_CODE:"InvalidPostalCode",EMPTY_POSTAL_CODE:"EmptyPostalCode",INVALID_DOMAIN:"Invalid Domain Name",CLIENT_ERROR:"Bad Request",SERVER_ERROR:"Service not available",TIMEOUT:"Service not responding",UNKNOWN_ERROR:"Unknown Error"},
countryConfig:{IN:{lookupUri:"/v1/address/getSuggestion",autofillMap:["addressline1","addressline2"],operationMap:{addressline1:3,addressline2:3,zip:0},cacheKeyMap:{zip:"\x3czip\x3e",addressline1:"al1-\x3czip\x3e-\x3caddressline1\x3e",addressline2:"al2-\x3czip\x3e-\x3caddressline1\x3e-\x3caddressline2\x3e"},partialAddressRequestMap:{addressline1:["addressline1","zip"],addressline2:["addressline1","addressline2","zip"]},lookupMap:{addressline1:"addressline1",addressline2:"addressline2"},autocompleteMap:{addressline1:["addressline1",
"addressline2"],addressline2:["addressline2"]},thresholdConfig:{completeTokenThreshold:0,partialTokenThreshold:0},displayConfig:{addressline1:["addressline1","addressline2"],addressline2:["addressline2"]}},GB:{operationMap:{addressline1:1,addressline2:0,addressline3:0,city:1,state:0,zip:2,countryCode:0},autofillMap:["city","state"],lookupMap:{addressline1:"zip",addressline2:"zip",city:"zip",state:"zip"},cacheKeyMap:{zip:"\x3czip\x3e"},partialAddressRequestMap:{zip:["zip"]},autocompleteMap:{addressline1:["addressline1",
"addressline2","city","state"],addressline2:["addressline2","city","state"],city:["city","state"],state:["state"]},displayConfig:{addressline1:["addressline1","addressline2","city","state"],addressline2:["addressline2","city","state"],city:["city","state"],state:["state"]},isSubsequenceMatchingEnabled:!1},TR:{operationMap:{addressline1:0,addressline2:0,addressline3:0,city:1,state:1,district:1,zip:0,countryCode:1},autofillMap:["countryCode","city","state","district","zip"],lookupMap:{city:"countryCode",
state:"city",district:"state"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3ccity\x3e",state:"\x3ccity\x3e-\x3cstate\x3e"},partialAddressRequestMap:{countryCode:[],city:["city"],state:["city","state"]},autocompleteMap:{city:["city"],state:["city","state"],district:["city","state","district","zip"]},displayConfig:{city:["city"],state:["state"],district:["district"]},normalizeConfig:{"İ":"I","ı":"i","Ö":"O","ö":"o","Ü":"U","ü":"u","Ç":"C","ç":"c","Ğ":"G","ğ":"g","Ş":"S","ş":"s"},isSubsequenceMatchingEnabled:!1},
BR:{operationMap:{zip:2},autofillMap:["streetName","neighborhood","city","state"],cacheKeyMap:{zip:"\x3czip\x3e"},partialAddressRequestMap:{zip:["zip"]},suggestionMaxLength:{streetName:60,neighborhood:45},isSubsequenceMatchingEnabled:!1},AE:{operationMap:{city:1,district:1,countryCode:1},autofillMap:["countryCode","city","district"],lookupMap:{city:"countryCode",district:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3ccity\x3e",district:"\x3ccity\x3e-\x3cdistrict\x3e"},partialAddressRequestMap:{countryCode:[],
city:["city"]},autocompleteMap:{city:["city"],district:["city","district"]},displayConfig:{city:["city"],district:["district"]},normalizeConfig:{"أ":"ا","إ":"ا","آ":"ا","ة":"ه"},isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},EG:{operationMap:{state:0,city:1,district:1,countryCode:1},autofillMap:["countryCode","state","city","district"],lookupMap:{city:"countryCode",district:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3cstate\x3e-\x3ccity\x3e",
district:"\x3cstate\x3e-\x3ccity\x3e-\x3cdistrict\x3e"},partialAddressRequestMap:{countryCode:[],city:["state","city"]},autocompleteMap:{city:["city","state"],district:["state","city","district"]},displayConfig:{city:["city","state"],district:["district"]},displayConfigStyling:{state:{position:2}},dataLevelRequested:"city",normalizeConfig:{"أ":"ا","إ":"ا","آ":"ا","ة":"ه"},isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},SA:{operationMap:{state:0,
city:1,district:1,countryCode:1},autofillMap:["countryCode","state","city","district"],lookupMap:{city:"countryCode",district:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3cstate\x3e-\x3ccity\x3e",district:"\x3cstate\x3e-\x3ccity\x3e-\x3cdistrict\x3e"},partialAddressRequestMap:{countryCode:[],city:["state","city"]},autocompleteMap:{city:["city","state"],district:["state","city","district"]},displayConfig:{city:["city","state"],district:["district"]},displayConfigStyling:{state:{position:2}},
dataLevelRequested:"city",normalizeConfig:{"أ":"ا","إ":"ا","آ":"ا","ة":"ه"},isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},SE:{operationMap:{addressline1:0,addressline2:0,zip:0,city:1,countryCode:1},lookupMap:{city:"countryCode"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3ccity\x3e"},partialAddressRequestMap:{countryCode:[],city:["city"]},autocompleteMap:{city:["city"]},displayConfig:{city:["city"]},normalizeConfig:{"Ä":"A","ä":"a",
"Å":"A","å":"a","Ö":"O","ö":"o"},isSubsequenceMatchingEnabled:!1}},isAutoSuggestionEnabled:function(a){return Ha[a]},getLookupUri:function(a){return l.countryConfig[a].lookupUri},replaceNoise:function(a){return/[\u0600-\u06FF\u0750-\u077F]/.test(a)?a.replace(/[^\W0-9\u0600-\u06FF\u0750-\u077F]+/g,""):a.replace(/\W+/g,"")},normalize:function(a,b){b=l.countryConfig[b];if("undefined"===typeof b.normalizeConfig)return a.toUpperCase();for(var c="",d=0;d<a.length;d++)var e=a.charAt(d),g=b.normalizeConfig[e],
c="undefined"!==typeof g?c+g:c+e;return c.toUpperCase()},getSuggestions:function(a,b){function c(a,b){return function(){a(b())}}function d(a){if("TR"==a||"AE"==a||"SA"==a||"EG"==a)Ha[a]=!1}function e(a,b,c){if(b=l.countryConfig[c].cacheKeyMap[b])for(var d in l.countryConfig[c].operationMap)b=b.replace(new RegExp("\x3c"+d+"\x3e","gi"),a[d]);return b}function g(a,b,c,d){function g(){var a=[],c;for(c in W)null!=E(W[c],b)&&a.push(W[c]);return a.filter(function(a){return G?-1!=l.replaceNoise(l.normalize(E(a,
b),d)).search(G):!1})}function n(){for(var a=[],c=G,e=c.toUpperCase().split(/[-/\\, ]/),f=[],g=0;g<e.length;++g)""!=e[g]&&f.push(e[g]);" "!=c[c.length-1]&&(O=!0);c=W;null==ga[b]&&(ga[b]={});for(e=0;e<f.length;++e)if(null==ga[b][f[e]]){for(var g=ga[b],w=f[e],h=f[e],k=c,x=[],v=0;v<k.length;++v){var m=E(k[v],b),p=0;null!=m&&(aa?p="undefined"!==typeof F.topAddresses.topInAddressFields[b]?F.topAddresses.topInAddressFields[b].includes(m)?F.boostFactors.topAddress(z(m,h)):z(m,h):z(m,h):(p="undefined"!==
typeof ta&&ta.isTopCity(d,m),p=z(m,h,p)));x.push(p)}g[w]=x}c=0===f.length?0:((f.length-1)*l.countryConfig[d].thresholdConfig.completeTokenThreshold+f[f.length-1].length*l.countryConfig[d].thresholdConfig.partialTokenThreshold)/f.length;for(var r in W){e={};e.place=W[r];g=e;if(0===f.length)w=1;else{for(h=w=0;h<f.length;++h)w+=ga[b][f[h]][r];w/=f.length}g.score=w;("IN"===l.countryConfig[d]||e.score>c)&&a.push(e)}r=[];!0===O&&r.push(f[f.length-1]);for(var q in ga[b])ga[b].hasOwnProperty(q)&&-1==f.indexOf(q)&&
r.push(q);for(f=0;f<r.length;++f)delete ga[b][r[f]];return a}function m(){F.isSubsequenceMatchingEnabled?X.sort(function(a,b){return b.score-a.score}):X.sort(function(a,c){a=l.replaceNoise(l.normalize(E(a,b),d)).search(G);c=l.replaceNoise(l.normalize(E(c,b),d)).search(G);return a-c})}function p(){if(0!==X.length)switch($("input[name\x3daddress-ui-widgets-locale]").val().trim().toLowerCase()){case "en_ae":X.sort(function(a,c){a=E(a.place,b);c=E(c.place,b);return a.localeCompare(c)});break;case "ar_ae":X.sort(function(a,
c){a=E(a.place,b);c=E(c.place,b);if(0===a.length&&0===c.length)return-1;if(0===a.length)return 1;if(0===c.length)return-1;var d=/[a-zA-Z0-9]/,e=d.test(a.charAt(0)),d=d.test(c.charAt(0));return e===d?a.localeCompare(c):d?-1:1})}}function r(){for(var a="",c=F.displayConfig[b],e=0;e<c.length;e++)Y[t[c[e]]]&&(a=F.displayConfigStyling?F.displayConfigStyling[c[e]]&&F.displayConfigStyling[c[e]].position==e+1?a+('\x3cfont color\x3d"#a9a9a9"\x3e\x3ci\x3e'+Y[t[c[e]]]+"\x3c/i\x3e\x3c/font\x3e"):a+Y[t[c[e]]]:
a+Y[t[c[e]]],a+=", ");a=a.substr(0,a.length-2);c=[];if(!F.isSubsequenceMatchingEnabled){for(var e=G.length,f=l.normalize(Y[b],d),g=l.replaceNoise(f),h=[],k=0;-1!==w(f);){for(var x=w(f),f=f.substr(x+1),n=0;n<x;n++)h.push(k);k+=1}for(n=0;n<=f.length;n++)h.push(k);for(f=0;-1!=g.search(G);)k=g.search(G),c.push([f+k+h[f+k],f+k+e+h[f+k+e]]),g=g.substr(k+e),f+=k+e}e={};e.displayString=a;e.matchedMap=c;return e}function q(a,b){a=a.suggestedPlace;for(var c,d=0;d<b.length;d++){var e=b[d].suggestedPlace;c=!0;
for(var f in a)if(a[f]!=e[f]&&"placeId"!=f){c=!1;break}if(c)return!0}return!1}function z(a,b,c){"undefined"==typeof c&&(c=!1);var e=/[-/\\, ]/;if(F.tokenizeArabicDefiniteArticles){var f=a.toUpperCase().split(e),g=a;if("AL"===a.substr(0,2)||"EL"===a.substr(0,2)||"ال"===a.substr(0,2))g=a.substr(0,2)+" "+a.substr(2);for(var g=g.replace(" al"," al ").replace(" el"," el ").replace(" ال"," ال "),e=g.toUpperCase().split(e),g=[],w=0;w<e.length;w++)""===e[w]||g.includes(e[w])||g.push(e[w]);1<g.length&&g.push(a.replace(" ",
"").toUpperCase());for(w=0;w<f.length;w++)g.includes(f[w])||g.push(f[w]);a=g}else a=a.toUpperCase().split(e);e=0;g="";for(w=0;w<a.length;++w)""!==a[w]&&(f=aa?0===w?F.boostFactors.firstToken(A(a[w],b)):A(a[w],b):A(a[w],b,c),"undefined"!==typeof ya&&"undefined"!==typeof ya[d]&&ya[d].includes(a[w].toUpperCase())&&(f*=.5),e=Math.max(f,e),g+=a[w][0]);return e=Math.max(e,B(g,b,c))}function B(a,b,c){"undefined"==typeof c&&(c=!1);if("undefined"!==typeof F.disableAcronyms&&F.disableAcronyms)return 0;var d=
0;""!==a&&(d=A(a,b,c));return d}function A(a,b,c){"undefined"==typeof c&&(c=!1);if(aa){c=H(a,b);var d;if(d=0<c)a:if(c===a.length){for(d=0;d<c-1;d++)if(!R(a.charAt(d),b.charAt(d))){d=!1;break a}d=L(a.charAt(c-1),b.charAt(c-1))}else{for(d=0;d<c;d++)if(!R(a.charAt(d),b.charAt(d))){d=!1;break a}d=!0}return d?F.boostFactors.lcsAtStart(c/b.length):c/b.length}d=H(a,b);return d.lcsLength/b.length*(d.lcsLength/a.length)*(c&&d.isFirstCharMatched?1.2:1)}function H(a,b){for(var c=!1,d=a.length,e=b.length,f=Array(d+
1),g=0;g<=d;g++)f[g]=Array(e+1);for(g=0;g<=d;++g)for(var w=0;w<=e;++w)0==g||0==w?f[g][w]=0:R(a[g-1],b[w-1])?(f[g][w]=f[g-1][w-1]+1,1==w&&(c=!0)):f[g][w]=Math.max(f[g-1][w],f[g][w-1]);return aa?(L(a[d-1],b[e-1])&&(f[d][e]=f[d-1][e-1]+1),f[d][e]):{lcsLength:f[a.length][b.length],isFirstCharMatched:c}}function R(a,b){if(aa){var c;a:{if("undefined"!==typeof F.soundexConfig&&F.soundexConfig.isSoundexEnabled&&(c=F.soundexConfig.soundexGroups,null!==c))for(var d=0;d<c.length;d++)if(c[d].includes(a)){c=c[d];
break a}c=null}return null!==c&&c.includes(b)||C(a)===C(b)}return C(a)===C(b)}function L(a,b){var c;a:{if("undefined"!==typeof F.soundexConfig&&F.soundexConfig.isSoundexEnabled&&(c=F.soundexConfig.suffixSoundexGroups,null!==c))for(var d=0;d<c.length;d++)if(c[d].includes(a)){c=c[d];break a}c=null}return null!==c&&c.includes(b)||C(a)===C(b)}function C(a){return F.normalizeConfig&&F.normalizeConfig.hasOwnProperty(a)?F.normalizeConfig[a]:a}function E(a,b){return a.address[b]}function w(a){return/[\u0600-\u06FF\u0750-\u077F]/.test(a)?
a.search(/[^\W\u0600-\u06FF\u0750-\u077F]/g):a.search(/\W/g)}var V=ha[d],F=l.countryConfig[d],ea=F.lookupMap[b],aa="undefined"!==typeof F.soundexConfig;if("undefined"===typeof V)return h(a,ea,d),{responseCode:l.RESPONSE.INCOMPLETE_CALL};var S=e(a,ea,d);if("undefined"===typeof S)return{responseCode:l.RESPONSE.UNKNOWN_FIELD};V=V[S];if("undefined"===typeof V)return h(a,ea,d),{responseCode:l.RESPONSE.INCOMPLETE_CALL};ea=V.code;if("undefined"!=typeof ea)return k(ea);var W=[];try{W=JSON.parse(V).places}catch(xa){return{responseCode:l.RESPONSE.SERVER_ERROR}}var X=
[],G;if(F.isSubsequenceMatchingEnabled){var O=!1;G=a[b];X=n()}else G=l.replaceNoise(l.normalize(a[b],d)),X=g();"undefined"!==typeof F.isSubsequenceMatchingEnabled&&F.isSubsequenceMatchingEnabled&&("undefined"===typeof ta||aa||ta.boostScoresOfTopCities(d,b,X));"undefined"!==typeof pa&&"undefined"!==typeof pa[d]&&0===G.length?p():m();a=[];for(var ba in X){S=F.isSubsequenceMatchingEnabled?X[ba].place:X[ba];if(a.length===c)break;ea={};V={};"undefined"!=typeof S.placeId&&(V.placeId=S.placeId);var Y=S.address,
S=F.autocompleteMap[b],fa;for(fa in S)V[S[fa]]=Y[t[S[fa]]];ea.suggestedPlace=V;ea.displayData=r();q(ea,a)||a.push(ea)}return{responseCode:l.RESPONSE.SUCCESS,addressSuggestions:a}}function h(a,c,g){function h(){d(g);R[L]=!1;b({responseCode:l.RESPONSE.TIMEOUT})}function p(a,c){R[L]=!1;var e=[];try{e=JSON.parse(a.responseText)}catch(f){d(c);b({responseCode:l.RESPONSE.SERVER_ERROR});return}500<=a.status?(d(c),b({responseCode:l.RESPONSE.SERVER_ERROR})):"undefined"===typeof e.code||"InvalidPostalCode"!==
e.code&&"EmptyPostalCode"!==e.code?400<=a.status?b({responseCode:l.RESPONSE.CLIENT_ERROR}):(ha[c][L]=a.responseText,b(q(ha[c][L]))):b(k(e.code))}function r(a){return a.toLowerCase().replace(/,/g,"")}function q(a){a=JSON.parse(C[L]);var b=K.autofillMap,c={},d;for(d in b){var e=[],f=a.places,g;for(g in f){var h=b[d],k=f[g].address[t[h]];ia(h,k)&&e.push(k)}c[b[d]]=e.filter(function(a,b,c){return c.indexOf(a)===b})}return{responseCode:l.RESPONSE.SUCCESS,autofillObject:c}}function P(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return JSON.stringify(a)===JSON.stringify({})}function ia(a,b){var c=!0,d=K.suggestionMaxLength;b&&d&&a in d&&b.length>d[a]&&(c=!1);return c}function ca(a,b,c,d,e,f){var g=new XMLHttpRequest;g.open("POST",a);g.onreadystatechange=function(){4==g.readyState&&e(g,d)};g.onerror=function(a){f(g,d,{reason:a})};g.setRequestHeader("Content-Type","application/json");a={};for(var h=0;h<c.length;h++)a[t[c[h]]]=b[c[h]];a[t.countryCode]=d;g.withCredentials=!0;b={};b.partialAddress=a;if("AE"===d||"SA"===d||"EG"===
d)c=$("input[name\x3daddress-ui-widgets-locale]").val(),"undefined"!==typeof pa&&"undefined"!==typeof pa[d]&&pa[d]&&(c=""),b.locale=c;(c=l.countryConfig[d].dataLevelRequested)&&(b.dataLevelRequested=c);"undefined"!==typeof za&&"undefined"!==typeof za[d]&&za[d]&&(b.compressResponse=!0);g.send(JSON.stringify(b));return g}function E(a){var b="/v1/lookup/places";l.getLookupUri(g)&&(b=l.getLookupUri(g));var c=m.location.hostname,d=B[a],c=-1!=d.GammaDomains.indexOf(c)?"Gamma":-1!=d.BetaDomains.indexOf(c)?
"Beta":"Prod";return A[a][c]+b}function J(a,b){var c=[],c=[],d="";b.addressline1&&c.push(r(b.addressline1));b.addressline2&&"addressline2"===z&&c.push(r(b.addressline2));var d=c.join(" "),e;for(e in a)if(c=e.split("-"),!("addressline1"===z&&"al1"!==c[0]||"addressline2"===z&&"al2"!==c[0])&&c[1]===b.zip){if(!JSON.parse(a[e]).isPincodeSupported)return[];if(c=JSON.parse(a[e]).places)if(c=c.filter(function(a){a.displayString.toLowerCase();var c=[];a.address.addressline1&&c.push(r(a.address.addressline1));
a.address.addressline2&&c.push(r(a.address.addressline2));c=c.join(" ");if(("addressline2"!==z||r(b.addressline1)===a.address.addressline1.toLowerCase().replace(/,/g,""))&&c.startsWith(d)){c="";a.address.addressline1&&(c=a.address.addressline1.toLowerCase());var e="";a.address.addressline2&&(e=a.address.addressline2.toLowerCase());if(b.addressline1.toLowerCase()!==c||b.addressline2.toLowerCase()!==e)return a}}),0<c.length)return c}}var K=l.countryConfig[g];"undefined"===typeof ha[g]&&(ha[g]={},ha.ACTIVE_API_CALLS[g]=
{});var C=ha[g],R=ha.ACTIVE_API_CALLS[g],L=e(a,c,g);if("undefined"!==typeof L){var O=C[L];if("undefined"===typeof O&&"IN"===g&&!P(C)){var ba=J(C,a);"undefined"!==typeof ba&&(C[L]=JSON.stringify({responseCode:"success",isPincodeSupported:!0,places:ba}),O=C[L])}"undefined"===typeof O?R[L]||((O=E(n[g]))||b({responseCode:l.RESPONSE.INVALID_DOMAIN}),R[L]=!0,ca(O,a,K.partialAddressRequestMap[c],g,p,h)):b(q(O))}}function k(a){return"InvalidPostalCode"===a?{responseCode:l.RESPONSE.INVALID_POSTAL_CODE}:"EmptyPostalCode"===
a?{responseCode:l.RESPONSE.EMPTY_POSTAL_CODE}:{responseCode:l.RESPONSE.UNKNOWN_ERROR}}var r=a.addressObject,z=a.addressField,q=a.numSuggestions,p=r.countryCode.toUpperCase();if(l.isAutoSuggestionEnabled(p)){var n={IN:"EU",GB:"EU",TR:"EU",AE:"EU",EG:"EU",SA:"EU",BR:"NA",SE:"EU"},t={addressline1:"addressline1",addressline2:"addressline2",addressline3:"addressline3",city:"city",state:"state",district:"district",zip:"postalCode",countryCode:"countryCode",streetName:"addressline1",complement:"addressline2",
neighborhood:"district"},A={EU:{Beta:"https://addresssuggest-eu.integ.amazon.com",Gamma:"https://addresssuggest-eu-preprod-dub.dub.proxy.amazon.com",Prod:"https://addresssuggest-eu.amazon.com"},NA:{Beta:"https://addresssuggest-na.integ.amazon.com",Gamma:"https://addresssuggest-na-preprod-iad.iad.proxy.amazon.com",Prod:"https://addresssuggest-na.amazon.com"}},B={EU:{BetaDomains:"in-development.amazon.com uk-development.amazon.com tr-development.amazon.com ae-development.amazon.com eg-development.integ.amazon.com sa-development.amazon.com se-development.corp.amazon.com development.amazon.com de-development.amazon.com ca-development.amazon.com nl-development.amazon.com au-development.amazon.com jp-development.amazon.com sg-development.amazon.com".split(" "),
GammaDomains:"in-pre-prod.amazon.com uk-pre-prod.amazon.com tr-pre-prod.amazon.com ae-pre-prod.amazon.com eg-pre-prod.aka.amazon.com sa-pre-prod.amazon.com se-pre-prod.corp.amazon.com pre-prod.amazon.com de-pre-prod.amazon.com ca-pre-prod.amazon.com nl-pre-prod.amazon.com au-pre-prod.amazon.com jp-pre-prod.amazon.com sg-pre-prod.amazon.com".split(" "),ProdDomains:"www.amazon.in www.amazon.co.uk www.amazon.com.tr www.amazon.ae www.amazon.eg www.amazon.sa www.amazon.se www.amazon.com store.amazon.in www.amazon.de www.amazon.ca www.amazon.nl www.amazon.com.au wwww.amazon.co.jp wwww.amazon.sg".split(" ")},
NA:{BetaDomains:["br-development.amazon.com"],GammaDomains:["br-pre-prod.amazon.com"],ProdDomains:["www.amazon.com.br"]}};"undefined"!==typeof ua&&ua&&Na();p in n||b({responseCode:l.RESPONSE.UNSUPPORTED_COUNTRY});a=l.countryConfig[p].operationMap[z];"undefined"===typeof a&&b({responseCode:l.RESPONSE.UNKNOWN_FIELD});0===a&&b({responseCode:l.RESPONSE.NO_OPERATION});1===a&&b(g(r,z,q,p));2===a&&h(r,z,p);3===a&&(b=c(b,function(){return g(r,z,q,p)}),h(r,z,p))}else b({responseCode:l.RESPONSE.TIMEOUT})}},
ua=!1;k.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute(function(a,b,c){function d(b){function d(a){return"true"!==q("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val()||"SA"!==a&&"EG"!==a?"address-ui-widgets-enterAddressStateOrRegion":"address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"}if(a.state("address-ui-widgets-from-view-state")){var e=a.state("address-ui-widgets-from-view-state")["marketplace-code"],h="GB SA US AE EG DE IN CA NL SE AU JP SG".split(" ");
if(!(!b||-1=="GB TR BR AE EG SA IN SE".split(" ").indexOf(b)||"TR"==b&&"TR"!=e||"BR"==b&&"BR"!=e||"IN"==b&&"IN"!=e||"SA"==b&&-1==h.indexOf(e)||"AE"==b&&-1==h.indexOf(e)||"EG"==b&&-1==h.indexOf(e))){p="address-ui-widgets-countryCode-dropdown-nativeId";c.getSelect(q("#"+p));n=b;switch(n){case "GB":t={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",city:"address-ui-widgets-enterAddressCity",state:"address-ui-widgets-enterAddressStateOrRegion",zip:"address-ui-widgets-enterAddressPostalCode",
countryCode:p};f={zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"}};H={zip:"#address-ui-widgets-uk-inline-postal-code-error"};B={zip:r()};break;case "TR":t={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",city:"address-ui-widgets-enterAddressCity",state:"address-ui-widgets-enterAddressStateOrRegion",district:"address-ui-widgets-enterAddressDistrictOrCounty",zip:"address-ui-widgets-enterAddressPostalCode",
countryCode:p};H={city:"#address-ui-widgets-inline-city-error",state:"#address-ui-widgets-inline-state-or-region-error",district:"#address-ui-widgets-inline-district-error"};B={city:m("city"),state:m("state"),district:m("district")};f={city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},state:{id:"address-ui-widgets-enterAddressStateOrRegion",cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",
cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "BR":t={fullName:"address-ui-widgets-enterAddressFullName",phoneNumber:"address-ui-widgets-enterAddressPhoneNumber",streetName:"address-ui-widgets-streetName",buildingNumber:"address-ui-widgets-buildingNumber",complement:"address-ui-widgets-complement",neighborhood:"address-ui-widgets-neighborhood",city:"address-ui-widgets-enterAddressCity",state:"address-ui-widgets-enterAddressStateOrRegion",zip:"address-ui-widgets-enterAddressPostalCode",
zipSubmit:"address-ui-widgets-enterAddressPostalCode-submit",ajax:"address-ui-widgets-enterAddressPostalCode"};f={zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"},ajax:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"}};H={zip:"#address-ui-widgets-postal-code-prepop-error",ajax:"#address-ui-widgets-postal-code-prepop-ajax-error"};B={zip:m("zip"),ajax:m("ajax")};break;case "AE":t={addressline1:"address-ui-widgets-enterAddressLine1",
addressline2:"address-ui-widgets-enterAddressLine2",city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:p};H={city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};B={city:m("city"),district:m("district")};f={city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};
break;case "EG":t={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",state:d("EG"),city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:p};H={state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};B={state:m("state"),city:m("city"),district:m("district")};f={state:{id:d("EG"),cssclass:"address-ui-widgets-auto-complete-failure"},
city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "SA":t={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",state:d("SA"),city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:p};H={state:"#address-ui-widgets-inline-state-or-region-error",
city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};B={state:m("state"),city:m("city"),district:m("district")};f={state:{id:d("SA"),cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "IN":t={addressline1:"address-ui-widgets-enterAddressLine1",
addressline2:"address-ui-widgets-enterAddressLine2",state:"address-ui-widgets-enterAddressStateOrRegion",city:"address-ui-widgets-enterAddressCity",zip:"address-ui-widgets-enterAddressPostalCode",countryCode:p};f={addressline1:{id:"address-ui-widgets-enterAddressLine1",cssclass:"address-ui-widgets-auto-complete-failure"},addressline2:{id:"address-ui-widgets-enterAddressLine2",cssclass:"address-ui-widgets-auto-complete-failure"},zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"}};
H={};B={};break;case "SE":t={fullName:"address-ui-widgets-enterAddressFullName",phoneNumber:"address-ui-widgets-enterAddressPhoneNumber",addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",zip:"address-ui-widgets-enterAddressPostalCode",city:"address-ui-widgets-enterAddressCity",countryCode:p};H={city:"#address-ui-widgets-inline-city-error"};B={};f={city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"}};
break;default:t={}}for(var k in t)b=q("#"+t[k]),b.is("input")&&(e=b.closest(".adddress-ui-widgets-form-field-container"),l(e)&&e.addClass("address-ui-widgets-field-container-fixed-height"),b.bind("InlineSuggestionsShow",function(a){g(q(a.target),".adddress-ui-widgets-form-field-container","address-ui-widgets-field-container-fixed-height")}));u||("function"===typeof O&&"undefined"!==typeof oa&&(oa=O(a)),u=new Oa);"function"===typeof Aa&&"undefined"!==typeof ua&&(ua=Aa(a));u.public(t,q,f,"aui",n,B,
a)}}}function e(a){var b=a.parent(".a-input-text-wrapper");0===b.length&&(b=a);return b}function g(a,b,c){a.is("input")&&(e(a).removeClass("a-form-error"),a=a.closest(b),a.find(".a-alert-inline").addClass("aok-hidden"),0==a.find(".a-section").not("aok-hidden").length&&a.addClass(c))}function h(){for(var a in t){var b=q("#"+t[a]);g(b,".adddress-ui-widgets-form-field-container","address-ui-widgets-field-container-fixed-height")}}function l(a){var b=["a-alert-inline","a-section"],c;for(c in b)if(0!=
a.find("."+b[c]).not("aok-hidden").length)return!1;return!0}function r(){var b=a.state("address-ui-widgets-from-view-state");return b&&b.isEnabled?function(a){var b=q(H.zip);a?(b.removeClass("aok-hidden"),b.siblings().find(".a-input-text-wrapper").removeClass("address-ui-widgets-mobile-2-field-border-bottom"),b=b.closest(".adddress-ui-widgets-form-2-field-container"),b.removeClass("address-ui-widgets-desktopaine-2-field-contr-fixed-height"),b=b.find("#"+t.zip),e(b).addClass("a-form-error")):(h(),
a=q("#address-ui-widgets-enterAddressPostalCode"),g(a,".adddress-ui-widgets-form-2-field-container","address-ui-widgets-desktop-2-field-container-fixed-height"),b.siblings().find(".a-input-text-wrapper").addClass("address-ui-widgets-mobile-2-field-border-bottom"))}:function(a){q(H.zip).toggleClass("aok-hidden",!a);q("#address-ui-widgets-uk-postal-code-column").toggleClass("address-ui-widgets-auto-complete-failure",a)}}function m(a){return function(b){var c=q(H[a]);b?(c.removeClass("aok-hidden"),b=
c.closest(".adddress-ui-widgets-form-field-container"),0===b.length&&(b=c.closest(".adddress-ui-widgets-form-2-field-container")),b.removeClass("address-ui-widgets-field-container-fixed-height"),c=b.find("#"+t[a]),e(c).addClass("a-form-error")):(c.hasClass("aok-hidden")||c.addClass("aok-hidden"),h())}}k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);var q=a.$,p,n,t,H,B,f,u;a.on("ajax_reload",function(b){q=a.$;d(b)});a.on("popover-interacted",
function(a){q=C(q,a);E(d,a)});a.on("address-form-load",function(b){q=a.$;d(b)})});k.when("A","a-checkbox","ready").execute(function(a,b){function c(){var a=0<e("#address-ui-widgets-addr-details-fri").length,c=0<e("#address-ui-widgets-addr-details-sat").length,d=0<e("#address-ui-widgets-addr-details-sun").length,a=a&&b("#address-ui-widgets-addr-details-fri").isChecked(),c=c&&b("#address-ui-widgets-addr-details-sat").isChecked(),k=d&&b("#address-ui-widgets-addr-details-sun").isChecked();return c&&a?
"BOTH_FRI_SAT":c&&k?"BOTH_SAT_SUN":a?"FRI":c?d?"SAT":"SAT_NO_FRI":k?"SUN":d?"NONE":"NO_FRI_NO_SAT"}function d(b){function d(){var a;a=e("#address-ui-widgets-addr-details-res-radio-input").is(":checked");e("#address-ui-widgets-addr-details-com-radio-input").is(":checked")?(e("#address-ui-widgets-addr-details-business-hours-checkbox-section").show(),a=c()):(e("#address-ui-widgets-addr-details-business-hours-checkbox-section").hide(),a=a?"RES":"OTH");e("input[name\x3d'address-ui-widgets-addr-details-address-type-and-business-hours']").val(a)}
var k=a.state("address-ui-widgets-from-view-state")["marketplace-code"];!b||"AE"==b&&"AE"!=k||"SA"==b&&-1==["SA","AE"].indexOf(k)||"EG"==b&&"EG"!=k||(a.declarative("address-ui-widgets-addr-details-business-hrs-checkbox-change","change",function(a){a=c();e("input[name\x3d'address-ui-widgets-addr-details-address-type-and-business-hours']").val(a)}),a.declarative("address-ui-widgets-addr-details-address-type-radio-change","change",function(a){d()}),d())}var e=a.$;a.on("ajax_reload",function(a){d(a)});
a.on("checkout:popoverContentLoaded:edit-address",function(a){d(a)});a.on("address-form-load",function(a){d(a)})});k.register("js-loaded",function(){var a={"form-loaded":"true"};return{get:function(b){return a[b]}}});k.when("A","address-ui-widgets-service-old-aui-missing-functions","ready","a-dropdown","js-loaded","js-parsed").execute(function(a,b){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(a.state.parse=b.stateParsingFunction);b=a.$;b("#address-ui-widgets-enterAddressFormContainer").ready(function(){a.state.parse();
if(a.state("address-ui-widgets-from-view-state")){var b=a.state("address-ui-widgets-from-view-state")["country-code"];a.trigger("address-form-load",b)}});b("#id-addr-ux-search-box-container").ready(function(){a.state.parse();a.trigger("address-book-load")})});k.when("A","a-checkbox","address-ui-widgets-service-old-aui-missing-functions","ready").execute(function(a,b,c){function d(d){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(a.state.parse=c.stateParsingFunction);a.state.parse();if(a.state("address-ui-widgets-from-view-state")&&
d&&"SG"==d&&(d=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"SG"==d){var h=e("input[name\x3d'address-ui-widgets-addr-details-unattended-delivery']"),l=b("#address-ui-widgets-addr-details-unattended-delivery-checkbox");h&&l&&(Ea(h,l),a.declarative("address-ui-widgets-addr-details-unattended-delivery-checkbox-change","change",function(a){Ea(h,l)}))}}var e=a.$;a.on("ajax_reload",function(b){e=a.$;d(b)});a.on("popover-interacted",function(a){e=C(e,a);E(d,a)});a.on("address-form-load",
function(b){e=a.$;d(b)})});var pa={AE:!1,SA:!1,EG:!1};k.when("A","ready").execute(function(a){a="T1"==na(a,"IDENT_ADDRESS_UI_AISS_LOAD_ALL_LOCALES_DATA_266221","C");pa={AE:a,SA:a,EG:a}});k.when("A","address-ui-widgets-service-old-aui-missing-functions","address-book-location-service","a-spinner","a-modal","a-alert","a-dropdown","a-button","ready").execute(function(a,b,c,d,e,g,h,l){function r(){k.AUI_BUILD_DATE&&k.AUI_BUILD_DATE!=A||(h.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,
g=b.alertFunction,d=b.spinnerFunction);a.state.parse();a.state("identity-address-ux-ajax-data")&&a.state("address-ui-widgets-from-view-state")&&(x=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"],y=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],v=a.state("address-ui-widgets-from-view-state").client,M="",N=Date.now(),P=d("#address-ui-widgets-Spinner"),E=l("#address-ui-widgets-DetectLocationButton"),C=g("#address-ui-widgets-ErrorAlert"),ca=
g("#address-ui-widgets-ErrorUserPermissionDeniedAlert"),ba(v,y),M=!v||"your-account-address-book"!==v&&"checkout"!==v?y?m.location.protocol+"//"+y:"":m.location.origin,J=function(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)},K=function(a,b){m.ue&&m.ue.count&&m.ue.count(a,b)},O=a.state("address-ui-widgets-location-button-view"),R=O["address-ui-widgets-mshop-location-permission-alert-description"],L=O["address-ui-widgets-mshop-location-permission-alert-feature-name"],ha=O["address-ui-widgets-device-location-error-ok-button"],
z())}function z(){var a=u("#address-ui-widgets-enterAddressFormContainer");a&&(a=a.find("#address-ui-widgets-DetectLocationButton"))&&a.click(function(a){E.disable();P.show();C.hide();ca.hide();a.preventDefault();try{N=Date.now();var b=location.host.split(".")[0];(b.includes("development")||b.includes("pre-prod"))&&q("isLocationDebug")?(a={},a.longitude=q("longitude"),a.latitude=q("latitude"),n(a)&&H(a)):c.getCurrentPosition({description:R,featureName:L},p,t)}catch(d){J("AddressFormAutoPopulation:ByLocation:Failure"),
P.hide(),E.enable()}})}function q(a){for(var b=null,c,d=location.search.substr(1).split("\x26"),e=0;e<d.length;e++)c=d[e].split("\x3d"),c[0]===a&&(b=decodeURIComponent(c[1]));return b}function p(a){var b=Date.now()-N;K("AddressFormAutoPopulation:ByLocation:PermissionLatency",b);K("AddressFormAutoPopulation:ByLocation:WebDesktopSuccessLatency",b);a&&(a=a.coords,n(a)&&H(a))}function n(a){return a&&null!=a.latitude&&a.latitude!=A&&null!=a.longitude&&a.longitude!=A?!0:!1}function t(a){J("AddressFormAutoPopulation:ByLocation:PermissionDenied");
a=Date.now()-N;K("AddressFormAutoPopulation:ByLocation:WebDesktopFailureLatency",a);P.hide();E.enable();ca.show()}function H(b){a.post(M+"/a/addresses/ajax/widgets",{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify({operation:"LocationBasedAddress",data:{latitude:b.latitude,longitude:b.longitude},ajaxToken:x})},success:function(b){if((b=b.data)&&"true"!==b.isAjaxError){var c=Date.now();K("AddressFormAutoPopulation:ByLocation:Latency",
c-N);c=b.addressFormCountryCode;u("#address-ui-widgets-countryCode-dropdown-nativeId").val()!==c?a.trigger("current-location-detection-country-switch",c,B,b):B(b,c);J("AddressFormAutoPopulation:ByLocation:Success")}else J("AddressFormAutoPopulation:ByLocation:InvalidCurrentLocationWithSuccessfulResponse"),P.hide(),E.enable(),C.show()},error:function(){J("AddressFormAutoPopulation:ByLocation:InvalidCurrentLocation");P.hide();E.enable();C.show()}})}function B(a,b){if(a){var c=u("[id\x3daddress-ui-widgets-enterAddressFormContainer]:visible"),
d=u("[name\x3daddress-ui-widgets-locationData]");d&&d[0]&&(d[0].value=JSON.stringify(a));switch(b){case "US":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressStateOrRegion",a.stateOrRegion,c);break;case "GB":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressLine2",a.addressLineTwo,c);f("address-ui-widgets-enterAddressCity",
a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressDistrictOrCounty",a.districtOrCounty,c);break;case "IT":b="";a.buildingNumber&&a.streetName?b=a.streetName.trim()+", "+a.buildingNumber.trim():a.streetName?b=a.streetName.trim():a.buildingNumber&&(b=a.buildingNumber.trim());f("address-ui-widgets-enterAddressLine1",b,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressStateOrRegion",
a.districtOrCounty,c);break;case "FR":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressStateOrRegion",a.districtOrCounty,c);break;case "PL":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);a=a.city;c=h.getSelect("#address-ui-widgets-enterAddressCity-dropdown-nativeId");
c.getOptions().remove();c.addOption({text:a,value:a});c.setValue(a);c.update({status:"normal"});break;case "IN":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressLine2",a.addressLineTwo,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressDistrictOrCounty",a.districtOrCounty,c);f("address-ui-widgets-landmark",a.landmark,c);f("address-ui-widgets-enterAddressStateOrRegion",
a.stateOrRegion,c);break;case "BR":b=a.postalCode.replace("-","");f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-streetName",a.streetName,c);f("address-ui-widgets-buildingNumber",a.buildingNumber,c);f("address-ui-widgets-enterAddressPostalCode",b,c);f("address-ui-widgets-neighborhood",a.addressLineTwo,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressStateOrRegion",a.stateOrRegion,c);break;case "DE":d=b="";a.buildingNumber&&
(b=a.buildingNumber.trim());a.streetName&&(d=a.streetName.trim());f("address-ui-widgets-enterAddressLine2",d+" "+b,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressDistrictOrCounty",a.districtOrCounty,c);break;case "CA":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressStateOrRegion",
a.stateOrRegion,c);break;case "SG":f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c);f("address-ui-widgets-enterAddressCity",a.city,c);f("address-ui-widgets-enterAddressPostalCode",a.postalCode,c);f("address-ui-widgets-enterAddressDistrictOrCounty",a.districtOrCounty,c);break;default:f("address-ui-widgets-enterAddressLine1",a.addressLineOne,c),f("address-ui-widgets-enterAddressLine2",a.addressLineTwo,c),f("address-ui-widgets-enterAddressCity",a.city,c),f("address-ui-widgets-enterAddressPostalCode",
a.postalCode,c),f("address-ui-widgets-enterAddressDistrictOrCounty",a.districtOrCounty,c),f("address-ui-widgets-enterAddressStateOrRegion",a.stateOrRegion,c)}a=u("#address-ui-widgets-countryCode-dropdown-nativeId");u("html, body").animate({scrollTop:parseInt(.96*u(a).offset().top)})}P.hide();E.enable()}function f(a,b,c){var d=c.find("#"+a+"-dropdown-nativeId")[0];if(d)for(var e=0;e<d.options.length;e++){if(d.options[e].innerText.toUpperCase()===b.toUpperCase()){d.options.selectedIndex=e;c.find("#"+
a).find(".a-dropdown-prompt")[0].textContent=d.options[e].text;break}}else a=u("#"+a),b&&a&&a.val(b)}var u=a.$,x,y,v,M,N,P,C,ca,E,J,K,O,R,L,ha,ga=Ia(a);a.on("ajax_reload",function(b){u=a.$;ga&&r()});a.on("address-form-load",function(b){u=a.$;ga&&r()});ga&&r();(function(){function a(b){return{inlineContent:"\x3cp\x3e"+b+"\x3c/p\x3e"+('\x3ca id\x3d"address-ui-widgets-location-detection-error-touch-link" href\x3d"#" class\x3d"a-touch-link a-box a-spacing-small cloned-touch-link-unique-id-class aok-offscreen"\x3e\x3cdiv class\x3d"a-box-inner"\x3e\x3ci class\x3d"a-icon a-icon-touch-link"\x3e\x3c/i\x3e\x3cspan id\x3d"address-ui-widgets-location-detection-error-touch-link-text"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/a\x3e\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close" data-a-popover-close\x3d"{}"\x3e\x3cspan id\x3d"address-ui-widgets-location-detection-error-ok-button" class\x3d"a-button a-button-base"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput name\x3d"address-ui-widgets-location-detection-error-ok-button" class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"address-ui-widgets-location-detection-error-ok-button-announce"\x3e\x3cspan id\x3d"address-ui-widgets-location-detection-error-ok-button-announce" class\x3d"a-button-text" aria-hidden\x3d"true"\x3e'+
ha+"\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e")}}var b;return{getInstance:function(c,d){b||(d=a(d),c&&(b=e.create(c.target,d)));return b},updateInstance:function(c){c=a(c);b.update(c);return b}}})()});k.when("A","ready").execute(function(a){a.capabilities.isAmazonApp||La()?k.when("address-book-mshop-location-service").execute(function(a){k.register("address-book-location-service",function(){return a})}):k.when("address-book-web-location-service").execute(function(a){k.register("address-book-location-service",
function(){return a})})});k.when("A","ready").register("address-book-web-location-service",function(a){return{getCurrentPosition:function(a,c,d){if(navigator.geolocation)navigator.permissions&&navigator.permissions.query?navigator.permissions.query({name:"geolocation"}).then(function(a){a&&a.state&&"denied"===a.state?d():navigator.geolocation.getCurrentPosition(c,d)}):navigator.geolocation.getCurrentPosition(c,d,{enableHighAccuracy:!1,maximumAge:6E4});else throw"navigator.geolocation module is failed to be initialized.";
}}});k.when("A","LocationService","mash","ready").register("address-book-mshop-location-service",function(a,b,c){function d(b,d,h){var k=function(){g.getCurrentPosition({successCallback:d,failCallback:h,options:{maximumAge:6E4}})},l=function(){c.permissions.requireForFeature({featureID:"addressform",requestID:"location_permission",uiResources:{featureName:b.featureName,description:b.description}}).onPermissionGranted(k).onPermissionDenied(h)};a.capabilities.android?e(l,h):l()}function e(a,b){g&&"function"===
typeof g.checkLocationSettings?g.checkLocationSettings({successCallback:function(c){c=c&&c.settingsStates?c.settingsStates.isLocationUsable:!0;c?(h("AddressFormAutoPopulation:Android:DeviceLocationEnabled"),a()):(h("AddressFormAutoPopulation:Android:DeviceLocationDisabled"),b())},failCallback:function(a){h("AddressFormAutoPopulation:Android:DeviceLocationDisabled");b()}}):(h("AddressFormAutoPopulation:Android:DeviceLocationDisabled"),b())}var g=b&&b.createLocationManager("addressform");if(g&&c.permissions&&
c.permissions.available){var h=function(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)};return{getCurrentPosition:d}}});var za={SA:!0,EG:!0};k.when("A","ready").execute("address-form-modal-scrollability-helper",function(a){function b(a){return-1<["edit-address","add-address","add-billing-address","addAddressModal","editAddressModal"].indexOf(a)}a.capabilities&&a.capabilities.touch&&!a.capabilities.mobile&&!a.capabilities.tablet&&(a.on("a:popover:beforeShow",function(a){if(b(a.popover.name)){var d=
a.popover.$popover.closest(".a-modal-scroller");d.scrollTop(0).css("visibility","visible");d.bind("scroll",function(){a.popover.updateChildrenPosition()})}}),a.on("a:popover:beforeHide",function(a){b(a.popover.name)&&(a=a.popover.$popover.closest(".a-modal-scroller"),a.css("visibility","hidden"),a.unbind("scroll"))}))});var qa={SA:"Riyadh;Makkah Al Mukarramah;Al Madinah Al Munawwarah;Dammam;Jeddah;Al Khobar;الرياض;مكة المكرمة;المدينة المنورة;الدمام;جدة;الخبر".split(";"),EG:"Cairo;Giza;Alexandria;Zagazig;Mansoura;New Cairo City;القاهرة;الجيزة;الإسكندرية;الزقازيق;المنصورة;القاهرة الجديدة".split(";")},
ya={SA:["AL","EL"],EG:["AL","EL"]},ta={isTopCity:function(a,b){return"undefined"!==typeof qa&&"undefined"!==typeof qa[a]&&qa[a].includes(b)},boostScoresOfTopCities:function(a,b,c){if("undefined"!==typeof qa&&"undefined"!==typeof qa[a])for(var d=0;d<c.length;++d)qa[a].includes(c[d].place.address[b])&&(c[d].score=Math.pow(1.6,10*c[d].score)/10)}};k.when("A","ready").execute(function(a){function b(a,b){m.ue&&m.ue.count&&m.ue.count(a,b)}function c(a,b){var c=q("\x3cspan\x3e\x3c/span\x3e");b&&c.css("background-color",
"yellow");c.text(a);return c}function d(a,b){for(var d=[],e=a.toLowerCase(),f=0,g=e.indexOf(b);-1!=g;)f<g&&(d.push(c(a.substring(f,g),!1)),f=g),d.push(c(a.substring(f,f+b.length),!0)),f+=b.length,g=e.indexOf(b,f);d.push(c(a.substring(f,a.length,!1)));return d}function e(b,c){0!==c.length&&a.each(b.originalTextByLine,function(e,f){a.contains(e.toLowerCase(),c)&&(b.displayedTextElementsArray[f].empty(),a.each(d(e,c),function(a,c){b.displayedTextElementsArray[f].append(a)}))})}function g(b){a.each(b.originalTextByLine,
function(a,c){b.displayedTextElementsArray[c].text(a)})}function h(){var c=C.val().toLowerCase();f||u||!c||(b("identityAddrUXSearchUsed",1),b("identityAddrUXSearchUsedAddrCount",y),a.trigger("identity-assets-address-search-use"),f=!0);t!==c&&(B=A,a.each(n,function(b,d){b.addressObject.addClass("aok-offscreen");a.each(b.originalTextByLine,function(d,f){if(a.contains(d.toLowerCase(),c))return g(b),e(b,c),b.addressObject.removeClass("aok-offscreen"),!1})}),t=c,v&&(m.clearTimeout(v),v=A),v=m.setTimeout(function(){C.blur()},
3E3))}function k(b){y=0;n={};a.each(b,function(b,c){y+=1;n[c]={};n[c].addressObject=q(b);n[c].displayedTextElementsArray=n[c].addressObject.find(".id-addr-ux-search-text");a.each(n[c].displayedTextElementsArray,function(a,b){n[c].displayedTextElementsArray[b]=q(a)});n[c].originalTextByLine=[];a.each(n[c].displayedTextElementsArray,function(a,b){a=q(a);n[c].originalTextByLine.push(a.text())})})}function l(){a.each(n,function(c,d){var e=function(){if(!c.addressObject.hasClass("aok-offscreen")&&!u){var e=
Date.now();if(C.val())b("identityAddrUXSearchResultUsed",1),b("identityAddrUXSearchResultUsedTime",e-x),b("identityAddrUXSearchResultUsedAddrCount",Object.keys(n).length),a.equals(B,c)&&b("identityAddrUXSearchAutoselectResultUsed",1);else{var g=f?"Search":"NonSearch";b("identityAddrUX"+g+"NonResultUsed",1);b("identityAddrUX"+g+"NonResultUsedTime",e-x);d<p.threshold&&b("identityAddrUX"+g+"NonResultTopAddrUsed",1)}u=!0}};c.addressObject.find("a").click(e);c.addressObject.find("input:submit").click(e)})}
function z(){var c=q("#id-addr-ux-search-box-container");if(c&&p&&0!==c.length&&(C=c.find("#id-addr-ux-text-input-search"),0!==C.length)){var d=q(p.addressCSSSelector);if("number"===typeof p.threshold&&!(d.length<p.threshold)){b("identityAddrUXSearchWidgetLoad",1);c.removeClass("aok-offscreen");var e=a.debounce(h,150,!1),f=c.offset().top-5;C.bind("input cut paste",function(a){q("html,body").scrollTop(f);""===C.val()&&q("html,body").scrollTop(0);0!==n.length&&e()});k(d);l(d)}}}var q=a.$;a.state.parse();
var p=a.state("searchBarOptions"),n,t="",C,B,f=!1,u=!1,x=Date.now(),y,v;a.on("address-book-load",function(){q=a.$;z()})});k.when("A","ready").execute(function(a){function b(b){var c=a.state("address-ui-widgets-from-view-state");if(c&&c["country-code"]){var c=c["country-code"],d="T1"==na(a,"ARX_AUTOFILL_POSTAL_CODE_401676","C"),k;k=b("[name*\x3d'address-ui-widgets-original-address-id']");var l=b("[name*\x3d'original-address-address-ui-widgets-original-address-id']");k=k&&0<k.length||l&&0<l.length?
!0:!1;l="AU IN JP MX PL SE SG".split(" ");d&&!k&&l.includes(c)&&a.trigger("handle-pre-populated-postal-code",c,b)}}var c=a.$;a.on("address-form-load",function(){c=a.$;d("handlePrefilledPostalCodeTotal");b(c)});a.on("popover-interacted",function(a){c=C(c,a);d("handlePrefilledPostalCodeTspcTotal");b(c)});var d=function(a){m.ue&&m.ue.count&&m.ue.count(a,(m.ue.count(a)||0)+1)}});k.when("A","ready").execute(function(a){a=a.$;for(var b=["#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId",
"#address-ui-widgets-countryCode-dropdown-nativeId"],c=0;c<b.length;c++){var d=a(b[c]);d&&-1==d.attr("tabindex")&&d.attr("tabindex",0)}})});